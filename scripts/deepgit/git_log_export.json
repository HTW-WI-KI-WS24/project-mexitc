[
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-08T00:16:33Z",
    "message": "Update README.md",
    "additions": [
      "@@ -1,7 +1,7 @@\n # Geriatrik\n Geriatrik is a web application developed for an organization (El club de los abuelos) that helps the elderly. The main focus is the optimization of the taking of screenings carried out by the doctors\n \n-This proyect was developed by:\n+This project was developed by:\n \n - [Ruy Guzm\u00e1n Camacho](https://github.com/Ruy-GC)\n - [Carlo \u00c1ngel Luj\u00e1n Garc\u00eda](https://github.com/CarloLj)\n@@ -13,7 +13,7 @@ This proyect was developed by:\n \n \n ## Goals\n-The proyect\u00b4s main goal is to improve the current testing processes that happen everyday at \"El club de los abuelos\" by creating an app that is easy to use and helps in mulitple tasks such as:\n+The project\u00b4s main goal is to improve the current testing processes that happen everyday at \"El club de los abuelos\" by creating an app that is easy to use and helps in mulitple tasks such as:\n \n - Monitorization of the needs and health of the patients\n - Application of tests "
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-07T22:45:07Z",
    "message": "Update README.md",
    "additions": [
      "@@ -1,2 +1,146 @@\n # Geriatrik\n Geriatrik is a web application developed for an organization (El club de los abuelos) that helps the elderly. The main focus is the optimization of the taking of screenings carried out by the doctors\n+\n+This proyect was developed by:\n+\n+- [Ruy Guzm\u00e1n Camacho](https://github.com/Ruy-GC)\n+- [Carlo \u00c1ngel Luj\u00e1n Garc\u00eda](https://github.com/CarloLj)\n+- [\u00c1ngel Padilla Esqueda](https://github.com/Int-Angel)\n+- [Santiago Gonz\u00e1lez de Cos\u00edo Romero](https://github.com/sant-gdc)\n+- [Ricardo Gonz\u00e1lez Leal](https://github.com/RicardoGLeal)\n+- [Adri\u00e1n Becerra Meza](https://github.com/AdrianBecerra411)\n+- [Fernando L\u00f3pez G\u00f3mez](https://github.com/fernandolpz-A01639715)\n+\n+\n+## Goals\n+The proyect\u00b4s main goal is to improve the current testing processes that happen everyday at \"El club de los abuelos\" by creating an app that is easy to use and helps in mulitple tasks such as:\n+\n+- Monitorization of the needs and health of the patients\n+- Application of tests \n+- Facilitate the work of employees\n+- Transform current methods to a digital environment\n+\n+## Installation and runnig the app \n+\n+Geriatrik is developed using React.js bootstrapped using [Create React App](https://github.com/facebook/create-react-app).\n+\n+``` bash\n+cd .\\geriatrik-app\\ \n+npm install\n+npm start\n+```\n+\n+## Web App\n+The system uses React.js for the front-end and an API connected to a MySQL database for the Back-end. \n+\n+From the app you arec able log or register a nuew employee and after the authorization succeeds you can access our home page from wich you can perform the following actions:\n+\n+- View Employee information\n+- View patients (Bubbles and list view)\n+- Filter patients\n+- View patient details\n+- Apply a new test to a patient\n+- View test results\n+\n+## Pages\n+\n+### Auth pages\n+![Login](https://user-images.githubusercontent.com/78626154/167273717-16820b5c-6653-4ae1-a177-156e2da898e6.png)\n+![Register](https://user-images.githubusercontent.com/78626154/167273733-ffd9af88-2fef-4191-90e7-01f007a9e756.png)\n+\n+### Home\n+![Home](https://user-images.githubusercontent.com/78626154/167273769-deffe78b-8a97-4302-aa46-df8ae29a8731.png)\n+\n+### Employee\n+![Employee](https://user-images.githubusercontent.com/78626154/167273806-9c8ad43a-1f4c-47da-95b5-7ef6ae3dbb12.png)\n+\n+### Patient Details\n+![Patient](https://user-images.githubusercontent.com/78626154/167273816-e8f521cf-3602-4e76-86c6-b2f69dc3fd4b.png)\n+\n+### Test\n+![Test](https://user-images.githubusercontent.com/78626154/167273830-07257422-3f18-4cbc-a0fb-5ae89f1818fe.png)\n+\n+## Requests\n+All the requests to the api are made using the Axios library, useState hook to create the objects sent to the requests\n+\n+### Proxy in package.json\n+\n+``` javascript\n+\n+\"proxy\": \"https://geriatrik-api.herokuapp.com/\"\n+\n+``` \n+\n+\n+### login request example\n+\n+``` javascript\n+import axios from 'axios'\n+import React, {useEffect, useState} from 'react'\n+\n+...\n+\n+//user to send\n+const [user,setUser] = useState({\n+      email: '',\n+      password: ''\n+  });\n+\n+//saves token\n+const [authState,setAuth] = useState({\n+      token: ''\n+});\n+  \n+//navigate to homepage\n+useEffect(() => {\n+      if(authState.token !== ''){\n+          navigate('/home');\n+      }\n+      //eslint-disable-next-line\n+},[authState.token]);\n+...\n+\n+//login user request called on form submit\n+const loginUser = async() => {\n+        const config = {\n+            headers: {\n+                'Content-Type': 'application/json'\n+            }\n+        }\n+\n+        try {\n+            const res = await axios.post('/login',user,config);\n+            setAuth({token: res.data.token});\n+\n+            localStorage.setItem('id',res.data.empleadoID);\n+            localStorage.setItem('name',res.data.name);\n+            localStorage.setItem('token',res.data.token);\n+            alert.success('Bienvenid@ ' + res.data.name);\n+\n+        } catch (error) {\n+            alert.error(error.response.data.msg);\n+        }\n+    }\n+\n+```\n+\n+### Utils for request after authorization\n+\n+``` javascript\n+import axios from 'axios';\n+\n+const setAuthToken = token =>{\n+    if(token){\n+        //backend header in which we send the token\n+        //sets a default config to use in every request\n+        axios.defaults.headers.common['x-auth-token'] = token;\n+    }else{\n+        delete axios.defaults.headers.common['x-auth-token'];\n+    }\n+}\n+\n+export default setAuthToken;\n+```\n+## API Repo\n+\n+### [Geriatrik API](https://github.com/CarloLj/Geriatrik-API)"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-05T17:20:45Z",
    "message": "Merge pull request #19 from CarloLj/login/register\n\nauth check in addPatient, list view date fix",
    "additions": [
      "@@ -50,7 +50,6 @@ const Register = props => {\n                 'Content-Type': 'application/json'\n             }\n         }\n-        console.log(user);\n \n         try {\n             const res = await axios.post('/register',user,config);",
      "@@ -2,6 +2,7 @@ import { useNavigate  } from \"react-router-dom\"\n import React, {useState} from 'react'\n import './newPatient.css'\n import { useAlert } from 'react-alert'\n+import axios from \"axios\"\n \n \n const AddPatientButton = () => {\n@@ -45,13 +46,14 @@ const AddPatientButton = () => {\n         e.preventDefault();\n         console.log(patient)\n         if(name === '' || lastName === '' || motherLastName === '' || birthday === '' || gender === '' || scholarity === '' || disabilities === '' || memoryComplaint === '' || severeHearingLoss === '' || emergencyContact === '' || image === ''){\n-            //missing info\n+            alert.error('Missing patient info');\n         }\n         else{\n             try {\n                 addToDB(patient);\n                 close();\n                 resetForm();\n+                window.location.reload(false);\n                 alert.success('Paciente a\u00f1adido exitosamente');\n             } catch (error) {\n                 alert.error(error.response.data.msg);\n@@ -103,15 +105,25 @@ const AddPatientButton = () => {\n \n     /*  ---  ADD TO DATABASE --- */\n \n-    const addToDB = (patient) => {\n+    const addToDB = async (patient) => {\n         console.log(JSON.stringify(patient));\n-        fetch(\"/addPatient\", {\n+        try {\n+            const config = {\n+                headers: {\n+                    'Content-Type': 'application/json'\n+                }\n+            }\n+            const res = await axios.post('/addPatient',patient,config);\n+        } catch (error) {\n+            alert.error(\"Could not add patient\");\n+        }\n+        /*fetch(\"/addPatient\", {\n           method: 'POST',\n           headers:{\n             'Content-type': 'application/json; charset=UTF-8'\n           },\n           body: JSON.stringify(patient)\n-        }).then(console.log(\"Data inserted to paciente in geriatrik DB\"));\n+        }).then(console.log(\"Data inserted to paciente in geriatrik DB\"));*/\n     }\n \n     return(",
      "@@ -114,6 +114,7 @@ const Home = () => {\n                 <tbody>\n                   {\n                   filteredPosts.map((currentPatient) => {\n+                    currentPatient.fechaNac = currentPatient.fechaNac.slice(0,10);\n                     return(\n                       <tr className='list-item' onClick={() => OpenPatientCard(currentPatient)} style={{cursor: 'pointer'}}>\n                         <ListCard\n@@ -139,7 +140,7 @@ const Home = () => {\n     <div style={{width: centeredHomeWidth}} className='centered-home'>\n       <h1>Bienvenid@ de nuevo, {localStorage.getItem('name')}</h1>\n       <Navbar />\n-      <AddPatientButton />\n+      <AddPatientButton/>\n       <div className='home-bar'>\n         <div className='search'>\n         <SearchBar "
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-05T17:19:01Z",
    "message": "auth check in addPatient, list view date fix",
    "additions": [
      "@@ -50,7 +50,6 @@ const Register = props => {\n                 'Content-Type': 'application/json'\n             }\n         }\n-        console.log(user);\n \n         try {\n             const res = await axios.post('/register',user,config);",
      "@@ -2,6 +2,7 @@ import { useNavigate  } from \"react-router-dom\"\n import React, {useState} from 'react'\n import './newPatient.css'\n import { useAlert } from 'react-alert'\n+import axios from \"axios\"\n \n \n const AddPatientButton = () => {\n@@ -45,13 +46,14 @@ const AddPatientButton = () => {\n         e.preventDefault();\n         console.log(patient)\n         if(name === '' || lastName === '' || motherLastName === '' || birthday === '' || gender === '' || scholarity === '' || disabilities === '' || memoryComplaint === '' || severeHearingLoss === '' || emergencyContact === '' || image === ''){\n-            //missing info\n+            alert.error('Missing patient info');\n         }\n         else{\n             try {\n                 addToDB(patient);\n                 close();\n                 resetForm();\n+                window.location.reload(false);\n                 alert.success('Paciente a\u00f1adido exitosamente');\n             } catch (error) {\n                 alert.error(error.response.data.msg);\n@@ -103,15 +105,25 @@ const AddPatientButton = () => {\n \n     /*  ---  ADD TO DATABASE --- */\n \n-    const addToDB = (patient) => {\n+    const addToDB = async (patient) => {\n         console.log(JSON.stringify(patient));\n-        fetch(\"/addPatient\", {\n+        try {\n+            const config = {\n+                headers: {\n+                    'Content-Type': 'application/json'\n+                }\n+            }\n+            const res = await axios.post('/addPatient',patient,config);\n+        } catch (error) {\n+            alert.error(\"Could not add patient\");\n+        }\n+        /*fetch(\"/addPatient\", {\n           method: 'POST',\n           headers:{\n             'Content-type': 'application/json; charset=UTF-8'\n           },\n           body: JSON.stringify(patient)\n-        }).then(console.log(\"Data inserted to paciente in geriatrik DB\"));\n+        }).then(console.log(\"Data inserted to paciente in geriatrik DB\"));*/\n     }\n \n     return(",
      "@@ -114,6 +114,7 @@ const Home = () => {\n                 <tbody>\n                   {\n                   filteredPosts.map((currentPatient) => {\n+                    currentPatient.fechaNac = currentPatient.fechaNac.slice(0,10);\n                     return(\n                       <tr className='list-item' onClick={() => OpenPatientCard(currentPatient)} style={{cursor: 'pointer'}}>\n                         <ListCard\n@@ -139,7 +140,7 @@ const Home = () => {\n     <div style={{width: centeredHomeWidth}} className='centered-home'>\n       <h1>Bienvenid@ de nuevo, {localStorage.getItem('name')}</h1>\n       <Navbar />\n-      <AddPatientButton />\n+      <AddPatientButton/>\n       <div className='home-bar'>\n         <div className='search'>\n         <SearchBar "
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-05T15:49:29Z",
    "message": "Merge pull request #18 from CarloLj/login/register\n\ntoken check and various fixes",
    "additions": [
      "@@ -9,7 +9,15 @@ import Reports from \"./components/pages/Reports\";\n import Navbar from \"./components/Navbar\";\n import Patient from \"./components/pages/PatientCards/Patient\";\n import Moca from \"./components/pages/MocaPage/Moca\";\n-import NewPatient from './components/newPatient/NewPatient';\n+\n+\n+//utils\n+import setAuthToken from \"./utils/setAuthToken\";\n+\n+//set auth token for all the web app\n+if(localStorage.getItem('token')){\n+    setAuthToken(localStorage.getItem('token')); \n+}\n \n function App() {\n     return (\n@@ -21,7 +29,6 @@ function App() {\n                     <Route exact path='/home' element = {<Home/>}/>\n                     <Route exact path='/Register' element = {<Register/>}/>\n                     <Route exact path='/PatientCard/:id' element = {<Patient/>}/>\n-                    <Route exact path='/NewPatient' element = {<NewPatient/>}/>\n                 </Routes>\n             </Fragment>\n         </Router>",
      "@@ -135,11 +135,11 @@ const Register = props => {\n                                 <input placeholder='Correo Electr\u00f3nico' type='email' name = 'email' value={email} onChange = {onChange} required/>\n                                 <div>\n                                     <i className=\"bi bi-eye\" id=\"togglePassword\" onClick={showPassword}/>\n-                                    <input id = \"password\" placeholder='Contrase\u00f1a' type='password' name = 'password' value={password} onChange = {onChange} required/>\n+                                    <input id = \"password\" placeholder='Contrase\u00f1a' type='password' name = 'password' value={password} onChange = {onChange} required minLength={6}/>\n                                 </div>\n                                 <div>\n                                     <i className=\"bi bi-eye\" id=\"togglePassword2\" onClick={showPassword2}/>\n-                                    <input id = \"password2\" placeholder='Confirmar' type='password' name = 'password2' value={password2} onChange = {onChange} required/>\n+                                    <input id = \"password2\" placeholder='Confirmar' type='password' name = 'password2' value={password2} onChange = {onChange} required minLength={6}/>\n                                 </div>\n                                 <input placeholder='URL img de perfil' type='text' name = 'pfp' value={pfp} onChange = {onChange} required/>\n ",
      "@@ -116,11 +116,11 @@ const AddPatientButton = () => {\n \n     return(\n         <section>\n-            <a href=\"#\" class='addPatientButton' onClick={open}>.</a>\n-            <div class = \"modal-container\">\n-                <div class = \"modal modal-close\">\n-                    <a class = \"close\" onClick={close}>X</a>\n-                    <div class = \"modal-text\">\n+            <a href=\"#\" className='addPatientButton' onClick={open}>.</a>\n+            <div className = \"modal-container\">\n+                <div className = \"modal modal-close\">\n+                    <a className = \"close\" onClick={close}>X</a>\n+                    <div className = \"modal-text\">\n                         <h2 className='header'>Agregar nuevo paciente</h2>\n                         <form id = \"formulario\" onSubmit={onSubmit}>\n                             <div className='grid-2'>\n@@ -138,20 +138,20 @@ const AddPatientButton = () => {\n                                 </div>\n                                 <div>\n                                     <input placeholder='Discapacidades' type='text' name = 'disabilities' value={disabilities} onChange = {onChange} required/>\n-                                    <div class ='toggle-div'>\n-                                        <label class ='toggle-label'>Queja de Memoria</label>\n-                                        <label class=\"toggle\">\n+                                    <div className ='toggle-div'>\n+                                        <label className ='toggle-label'>Queja de Memoria</label>\n+                                        <label className=\"toggle\">\n                                             <input id='memoryCheckbox' type='checkbox' name = 'memoryComplaint' onChange = {onChange} />\n-                                            <span class = \"slider\"></span>\n-                                            <span class =\"labels\" data-on=\"SI\" data-off=\"NO\"></span>\n+                                            <span className = \"slider\"></span>\n+                                            <span className =\"labels\" data-on=\"SI\" data-off=\"NO\"></span>\n                                         </label>\n                                     </div>\n-                                    <div class ='toggle-div'>    \n-                                        <label class ='toggle-label'>Hipoacusia severa</label>\n-                                        <label class=\"toggle\">\n+                                    <div className ='toggle-div'>    \n+                                        <label className ='toggle-label'>Hipoacusia severa</label>\n+                                        <label className=\"toggle\">\n                                         <input id='hearingCheckbox' type='checkbox' name = 'severeHearingLoss' onChange = {onChange} />\n-                                            <span class = \"slider\"></span>\n-                                            <span class =\"labels\" data-on=\"SI\" data-off=\"NO\"></span>\n+                                            <span className = \"slider\"></span>\n+                                            <span className =\"labels\" data-on=\"SI\" data-off=\"NO\"></span>\n                                         </label>\n                                     </div>\n                                 ",
      "@@ -1,78 +0,0 @@\n-import React, {useState} from 'react'\n-import { useNavigate  } from \"react-router-dom\"\n-\n-\n-const NewPatient = () => {\n-    \n-    //allow to navigate through the routes\n-    const navigate = useNavigate ();\n-\n-    //user register fields\n-    const [user,setUser] = useState({\n-        name: '',\n-        lastName: '',\n-        motherLastName: '',\n-        birthday: '',\n-        gender: '',\n-        scholarity: '',\n-        disabilities: '',\n-        memoryComplaint: '',\n-        severeHearingLoss: '',\n-        emergencyContact: '',\n-        profileImage: ''\n-    });\n-\n-    const {name, lastName, motherLastName, birthday, gender, scholarity, disabilities, memoryComplaint, severeHearingLoss, emergencyContact, image} = user;\n-\n-    //copies user data and changes the target of the onchange\n-    const onChange = e => setUser({...user, [e.target.name]:e.target.value});\n-\n-    const onSubmit = e => {\n-        e.preventDefault();\n-\n-        if(name === '' || lastName === '' || motherLastName === '' || birthday === '' || gender === '' || scholarity === '' || disabilities === '' || memoryComplaint === '' || severeHearingLoss === '' || emergencyContact === ''){\n-            //missing info\n-        }else{\n-            //register\n-            navigate('/home');\n-        }\n-    }\n-    \n-    //El onfocus=\"(this.type='date')\" no sirve\n-    return (\n-        <div className='grid-2'>\n-            <div className='form-container'>\n-                <h2 className='auth-header'>Add New Patient</h2>\n-                <form onSubmit={onSubmit}>\n-                    <div className='grid-2'>\n-                        <div>\n-                            <input placeholder='Nombre' type='text' name = 'name' value={name} onChange = {onChange} required/>\n-                            <input placeholder='Apellido Paterno' type='text' name = 'lastName' value={lastName} onChange = {onChange} required/>\n-                            <input placeholder='Apellido Materno' type='text' name = 'motherLastName' value={motherLastName} onChange = {onChange} required/>\n-                            <label for=\"fe\">Fecha de Nacimiento</label>\n-                            <input type='date' name = 'birthday' value={birthday} onChange = {onChange} required/>\n-                            <select  id=\"sexos\" name='sex' onChange = {onChange}>\n-                                <option value=\"Masculino\">Masculino</option>\n-                                <option value=\"Femenino\">Femenino</option>\n-                            </select >\n-                        </div>\n-                        <div>\n-                            <input placeholder='Escolaridad' type='text' name = 'scholarity' value={scholarity} onChange = {onChange} required/>\n-                            <input placeholder='Discapacidades' type='text' name = 'disabilities' value={disabilities} onChange = {onChange} required/>\n-                            <label>Queja de memoria</label>\n-                            <input placeholder='Queja de memoria' type='checkbox' name = 'memoryComplaint' value={memoryComplaint} onChange = {onChange} />\n-                            <label>Hipoacusia severa</label>\n-                            <input placeholder='Hipoacusia severa' type='checkbox' name = 'severeHearingLoss' value={severeHearingLoss} onChange = {onChange} />\n-                            <input placeholder='Contacto de Emergencia' type='number' name = 'emergencyContact' value={emergencyContact} onChange = {onChange} required/>\n-                            <input placeholder='URL Foto de perfil' type = 'text' id = \"files\" value={image} accept=\"image/png, image/jpeg\" onChange = {onChange}/>\n-                        </div>\n-                    </div>\n-                    <input type=\"submit\" value = \"Agregar Paciente\" formTarget='_blank'/>\n-                </form>\n-                <button className='btn-back' onClick={() => navigate('/home')}> Atr\u00e1s</button>\n-            </div>\n-        </div>\n-    )\n-}\n-\n-export default NewPatient;",
      "@@ -1,4 +1,4 @@\n-import React, {useState} from 'react'\n+import React, {useState,useEffect} from 'react'\n import Navbar from '../Navbar'\n import BubbleCard from '../visual/BubbleCard'\n import ListCard from '../visual/ListCard'\n@@ -10,19 +10,31 @@ import { useNavigate  } from \"react-router-dom\"\n import { IconBase } from 'react-icons'\n import AddPatientButton from '../newPatient/AddPatientButton'\n import SearchBar from \"../searchBar/searchBar\";\n+import axios from 'axios';\n+import { useAlert } from 'react-alert'\n \n const Home = () => {\n+  const alert = useAlert()\n   const navigate = useNavigate ();\n+  const [datos, setData] = useState(null);\n \n-  const loadPatients = () => {\n-    fetch(\"/patients\").then((res) => res.json()).then((data) => setData(data.message));\n+  const loadPatients = async () => {\n+    try {\n+      const res = await axios.get('/patients');\n+      setData(res.data.message);\n+      alert.success('Patients loaded');\n+    } catch (error) {\n+      alert.error('Error while fetching patients');\n+    }\n   }\n-  const [datos, setData] = React.useState(null);\n-  React.useEffect(() => {\n-    fetch(\"/patients\")\n-      .then((res) => res.json())\n-      .then((data) => setData(data.message));\n-  }, []);\n+\n+  useEffect(() => {\n+    if(!localStorage.token){\n+      navigate('/');\n+    }else{\n+      loadPatients();\n+    }\n+  },[]);\n \n   const OpenPatientCard = (currentPatient) => {\n     //allow to naviigate through the routes\n@@ -43,8 +55,6 @@ const Home = () => {\n   const query = new URLSearchParams(search).get('s');\n   const [searchQuery, setSearchQuery] = useState(query || '');\n   const filteredPosts = filterPosts(datos, searchQuery);\n-  \n-  \n \n   const [tipoVista, setVista] = useState(\"Grid\");\n   //loadPatients(); En caso de que quieran drenar la memoria activenlo, pero se activa un listener para nuevos datos",
      "@@ -2,7 +2,9 @@ import './Moca.css';\n \r\n import Unity, {UnityContext} from 'react-unity-webgl';\r\n import { Fragment, useEffect, useState } from 'react';\r\n-import { Navigate, useParams } from \"react-router-dom\";\r\n+import { Navigate, useParams, useNavigate } from \"react-router-dom\";\r\n+import axios from 'axios';\r\n+import { useAlert } from 'react-alert'\r\n \r\n const unityContext = new UnityContext({\r\n   productName: \"Geriatrik\",\r\n@@ -18,6 +20,8 @@ const unityContext = new UnityContext({\n }); \r\n \r\n function Moca() {\r\n+  const navigate = useNavigate ();\r\n+  const alert = useAlert();\r\n   const [isUnityMounted, setIsUnityMounted] = useState(true);\r\n   const [isLoaded, setIsLoaded] = useState(false);\r\n   const [progression, setProgression] = useState(0);\r\n@@ -26,13 +30,18 @@ function Moca() {\n   const {idEmpleado, idPaciente} = useParams();\r\n \r\n   useEffect(function(){\r\n-    unityContext.on(\"progress\", handleOnUnityProgress);\r\n-    unityContext.on(\"loaded\", handleOnUnityLoaded);\r\n-    unityContext.on(\"MocaFinished\", handleMocaFinish);\r\n-\r\n-    return function(){\r\n-      unityContext.removeAllEventListeners();\r\n-    };\r\n+    if(!localStorage.token){\r\n+      navigate('/');\r\n+    }else{\r\n+      unityContext.on(\"progress\", handleOnUnityProgress);\r\n+      unityContext.on(\"loaded\", handleOnUnityLoaded);\r\n+      unityContext.on(\"MocaFinished\", handleMocaFinish);\r\n+\r\n+      return function(){\r\n+        unityContext.removeAllEventListeners();\r\n+      };\r\n+    }\r\n+    \r\n   }, []);\r\n \r\n   function handleOnUnityProgress(progression) {\r\n@@ -66,13 +75,26 @@ function Moca() {\n     respuesta[\"puntos\"] = mocaRes.resultados.total;\r\n     respuesta[\"respuestasJSON\"] = results.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n \r\n-    fetch(\"/moca\", {\r\n+    try {\r\n+      const config = {\r\n+        headers: {\r\n+            'Content-Type': 'application/json; charset=UTF-8'\r\n+        }\r\n+    }\r\n+      const res = await axios.post('/moca',JSON.stringify(respuesta),config);\r\n+      if(res){\r\n+        alert.success('Test saved');\r\n+      }\r\n+    } catch (error) {\r\n+      alert.error('Failed to save test');\r\n+    }\r\n+    /*fetch(\"/moca\", {\r\n       method: 'POST',\r\n       headers:{\r\n         'Content-type': 'application/json; charset=UTF-8'\r\n       },\r\n       body: JSON.stringify(respuesta)\r\n-    });\r\n+    });*/\r\n   }\r\n \r\n   function handleOnClickUnMountUnity() {\r",
      "@@ -6,8 +6,11 @@ import TestButton from \"../../TestButton\";\n import TestGraph from \"../../graph/TestGraph\";\r\n import { Bar } from \"react-chartjs-2\";\r\n import ListCardTest from \"./ListCardTest\";\r\n-import { useParams } from \"react-router-dom\";\r\n+import { useParams, useNavigate } from \"react-router-dom\";\r\n import BackButton from '../../BackButton'\r\n+import axios from 'axios';\r\n+import { useAlert } from 'react-alert'\r\n+\r\n \r\n const HomeLink = \"/moca/\";\r\n \r\n@@ -16,30 +19,42 @@ const HomeLink = \"/moca/\";\n \r\n const Details = (props) => {\r\n   const { id } = useParams(); // pacienteId\r\n-  const [datos, setData] = React.useState(null);\r\n+  const [datos, setData] = useState(null);\r\n   let valuesArray;\r\n \r\n-  if(datos) {\r\n-    var graphData = datos.map((currentGraph) => {\r\n-    return(\r\n-      currentGraph.puntos\r\n-    );\r\n-    });\r\n-    var graphDates = datos.map((currentGraph) => {\r\n+  const loadData = async () => {\r\n+    try {\r\n+      const res = await axios.get(`/tamizaje/${encodeURIComponent(props.patientID)}\"`);\r\n+      console.log(res);\r\n+      setData(res.data.message);\r\n+      console.log(datos);\r\n+\r\n+      alert.success('Data loaded');\r\n+\r\n+    } catch (error) {\r\n+      alert.error('Error while fetching data');\r\n+    }\r\n+  }\r\n+  useEffect(() => {\r\n+    loadData();\r\n+    if(datos) {\r\n+      var graphData = datos.map((currentGraph) => {\r\n       return(\r\n-        currentGraph.fecha\r\n+        currentGraph.puntos\r\n       );\r\n       });\r\n-  }\r\n-  \r\n-\r\n-  React.useEffect(() => {\r\n-    fetch(`/tamizaje/${encodeURIComponent(props.patientID)}\"`, {\r\n+      var graphDates = datos.map((currentGraph) => {\r\n+        return(\r\n+          currentGraph.fecha\r\n+        );\r\n+        });\r\n+    }\r\n+    /*fetch(`/tamizaje/${encodeURIComponent(props.patientID)}\"`, {\r\n       method: \"GET\",\r\n       headers: { \"Content-Type\": \"application/json\" },\r\n     })\r\n       .then((res) => res.json())\r\n-      .then((data) => setData(data.message));\r\n+      .then((data) => setData(data.message));*/\r\n   }, []);\r\n   // console.log(datos);\r\n \r\n@@ -53,7 +68,7 @@ const Details = (props) => {\n   if (datos) {\r\n     var graphDates = datos.map((currentGraph)  => {\r\n       return (\r\n-        currentGraph.fecha\r\n+        currentGraph.fecha.slice(0, 10)\r\n       );\r\n     });\r\n   }\r\n@@ -73,7 +88,7 @@ const Details = (props) => {\n   // }\r\n \r\n   function getMocaLink(){\r\n-    return `/moca/${1}/${id}`\r\n+    return `/moca/${localStorage.getItem('id')}/${id}`\r\n   }\r\n   //localStorage.getItem(\"id\")\r\n \r\n@@ -131,6 +146,9 @@ const Details = (props) => {\n             <tbody>\r\n               {datos ? (\r\n                 datos.map((currentTest) => {\r\n+                  \r\n+                  currentTest.fecha = currentTest.fecha.slice(0, 10);\r\n+\r\n                   return (\r\n                     <ListCardTest\r\n                       testObj={currentTest}\r\n@@ -192,11 +210,31 @@ const getEdad = (dateString) => {\n const Patient = () => {\r\n   const { id } = useParams();\r\n   const [datos, setData] = React.useState(null);\r\n-  React.useEffect(() => {\r\n-    fetch(\"/patient/\" + id)\r\n+  const alert = useAlert();\r\n+  const navigate = useNavigate();\r\n+  const loadPatient = async () =>{\r\n+    try {\r\n+      const res = await axios.get(\"/patient/\" + id);\r\n+      setData(res.data.message);\r\n+      console.log(datos);\r\n+\r\n+      alert.success('Patient loaded');\r\n+\r\n+    } catch (error) {\r\n+      alert.error('Error while fetching data');\r\n+    }\r\n+  }\r\n+\r\n+  useEffect(() => {\r\n+    if(!localStorage.token){\r\n+      navigate('/');\r\n+    }else{\r\n+      loadPatient();\r\n+    }\r\n+    /*fetch(\"/patient/\" + id)\r\n       .then((res) => res.json())\r\n-      .then((data) => setData(data.message));\r\n-  }, [id]);\r\n+      .then((data) => setData(data.message));*/\r\n+  }, []);\r\n   return !datos ? (\r\n     <h1>Loading</h1>\r\n   ) : (\r",
      "@@ -0,0 +1,16 @@\n+import axios from 'axios';\n+\n+const setAuthToken = token =>{\n+    if(token){\n+        //backend header in which we send the token\n+        //sets a default config to use in every request\n+        /*this allows us to mantain the authorization \n+        in all of our app without having to make a request for the token \n+        each time we need it*/\n+        axios.defaults.headers.common['x-auth-token'] = token;\n+    }else{\n+        delete axios.defaults.headers.common['x-auth-token'];\n+    }\n+}\n+\n+export default setAuthToken;\n\\ No newline at end of file"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-05T15:48:17Z",
    "message": "check token on pages and date fix",
    "additions": [
      "@@ -9,7 +9,6 @@ import Reports from \"./components/pages/Reports\";\n import Navbar from \"./components/Navbar\";\n import Patient from \"./components/pages/PatientCards/Patient\";\n import Moca from \"./components/pages/MocaPage/Moca\";\n-import NewPatient from './components/newPatient/NewPatient';\n \n \n //utils\n@@ -30,7 +29,6 @@ function App() {\n                     <Route exact path='/home' element = {<Home/>}/>\n                     <Route exact path='/Register' element = {<Register/>}/>\n                     <Route exact path='/PatientCard/:id' element = {<Patient/>}/>\n-                    <Route exact path='/NewPatient' element = {<NewPatient/>}/>\n                 </Routes>\n             </Fragment>\n         </Router>",
      "@@ -90,11 +90,11 @@ const AddPatientButton = () => {\n \n     return(\n         <section>\n-            <a href=\"#\" class='addPatientButton' onClick={open}>.</a>\n-            <div class = \"modal-container\">\n-                <div class = \"modal modal-close\">\n-                    <a class = \"close\" onClick={close}>X</a>\n-                    <div class = \"modal-text\">\n+            <a href=\"#\" className='addPatientButton' onClick={open}>.</a>\n+            <div className = \"modal-container\">\n+                <div className = \"modal modal-close\">\n+                    <a className = \"close\" onClick={close}>X</a>\n+                    <div className = \"modal-text\">\n                         <h2 className='header'>Agregar nuevo paciente</h2>\n                         <form onSubmit={onSubmit}>\n                             <div className='grid-2'>\n@@ -112,20 +112,20 @@ const AddPatientButton = () => {\n                                 </div>\n                                 <div>\n                                     <input placeholder='Discapacidades' type='text' name = 'disabilities' value={disabilities} onChange = {onChange} required/>\n-                                    <div class ='toggle-div'>\n-                                        <label class ='toggle-label'>Queja de Memoria</label>\n-                                        <label class=\"toggle\">\n+                                    <div className ='toggle-div'>\n+                                        <label className ='toggle-label'>Queja de Memoria</label>\n+                                        <label className=\"toggle\">\n                                             <input id='memoryCheckbox' type='checkbox' name = 'memoryComplaint' onChange = {onChange} />\n-                                            <span class = \"slider\"></span>\n-                                            <span class =\"labels\" data-on=\"SI\" data-off=\"NO\"></span>\n+                                            <span className = \"slider\"></span>\n+                                            <span className =\"labels\" data-on=\"SI\" data-off=\"NO\"></span>\n                                         </label>\n                                     </div>\n-                                    <div class ='toggle-div'>    \n-                                        <label class ='toggle-label'>Hipoacusia severa</label>\n-                                        <label class=\"toggle\">\n+                                    <div className ='toggle-div'>    \n+                                        <label className ='toggle-label'>Hipoacusia severa</label>\n+                                        <label className=\"toggle\">\n                                         <input id='hearingCheckbox' type='checkbox' name = 'severeHearingLoss' onChange = {onChange} />\n-                                            <span class = \"slider\"></span>\n-                                            <span class =\"labels\" data-on=\"SI\" data-off=\"NO\"></span>\n+                                            <span className = \"slider\"></span>\n+                                            <span className =\"labels\" data-on=\"SI\" data-off=\"NO\"></span>\n                                         </label>\n                                     </div>\n                                 ",
      "@@ -1,78 +0,0 @@\n-import React, {useState} from 'react'\n-import { useNavigate  } from \"react-router-dom\"\n-\n-\n-const NewPatient = () => {\n-    \n-    //allow to navigate through the routes\n-    const navigate = useNavigate ();\n-\n-    //user register fields\n-    const [user,setUser] = useState({\n-        name: '',\n-        lastName: '',\n-        motherLastName: '',\n-        birthday: '',\n-        gender: '',\n-        scholarity: '',\n-        disabilities: '',\n-        memoryComplaint: '',\n-        severeHearingLoss: '',\n-        emergencyContact: '',\n-        profileImage: ''\n-    });\n-\n-    const {name, lastName, motherLastName, birthday, gender, scholarity, disabilities, memoryComplaint, severeHearingLoss, emergencyContact, image} = user;\n-\n-    //copies user data and changes the target of the onchange\n-    const onChange = e => setUser({...user, [e.target.name]:e.target.value});\n-\n-    const onSubmit = e => {\n-        e.preventDefault();\n-\n-        if(name === '' || lastName === '' || motherLastName === '' || birthday === '' || gender === '' || scholarity === '' || disabilities === '' || memoryComplaint === '' || severeHearingLoss === '' || emergencyContact === ''){\n-            //missing info\n-        }else{\n-            //register\n-            navigate('/home');\n-        }\n-    }\n-    \n-    //El onfocus=\"(this.type='date')\" no sirve\n-    return (\n-        <div className='grid-2'>\n-            <div className='form-container'>\n-                <h2 className='auth-header'>Add New Patient</h2>\n-                <form onSubmit={onSubmit}>\n-                    <div className='grid-2'>\n-                        <div>\n-                            <input placeholder='Nombre' type='text' name = 'name' value={name} onChange = {onChange} required/>\n-                            <input placeholder='Apellido Paterno' type='text' name = 'lastName' value={lastName} onChange = {onChange} required/>\n-                            <input placeholder='Apellido Materno' type='text' name = 'motherLastName' value={motherLastName} onChange = {onChange} required/>\n-                            <label for=\"fe\">Fecha de Nacimiento</label>\n-                            <input type='date' name = 'birthday' value={birthday} onChange = {onChange} required/>\n-                            <select  id=\"sexos\" name='sex' onChange = {onChange}>\n-                                <option value=\"Masculino\">Masculino</option>\n-                                <option value=\"Femenino\">Femenino</option>\n-                            </select >\n-                        </div>\n-                        <div>\n-                            <input placeholder='Escolaridad' type='text' name = 'scholarity' value={scholarity} onChange = {onChange} required/>\n-                            <input placeholder='Discapacidades' type='text' name = 'disabilities' value={disabilities} onChange = {onChange} required/>\n-                            <label>Queja de memoria</label>\n-                            <input placeholder='Queja de memoria' type='checkbox' name = 'memoryComplaint' value={memoryComplaint} onChange = {onChange} />\n-                            <label>Hipoacusia severa</label>\n-                            <input placeholder='Hipoacusia severa' type='checkbox' name = 'severeHearingLoss' value={severeHearingLoss} onChange = {onChange} />\n-                            <input placeholder='Contacto de Emergencia' type='number' name = 'emergencyContact' value={emergencyContact} onChange = {onChange} required/>\n-                            <input placeholder='URL Foto de perfil' type = 'text' id = \"files\" value={image} accept=\"image/png, image/jpeg\" onChange = {onChange}/>\n-                        </div>\n-                    </div>\n-                    <input type=\"submit\" value = \"Agregar Paciente\" formTarget='_blank'/>\n-                </form>\n-                <button className='btn-back' onClick={() => navigate('/home')}> Atr\u00e1s</button>\n-            </div>\n-        </div>\n-    )\n-}\n-\n-export default NewPatient;",
      "@@ -16,23 +16,25 @@ import { useAlert } from 'react-alert'\n const Home = () => {\n   const alert = useAlert()\n   const navigate = useNavigate ();\n-\n   const [datos, setData] = useState(null);\n \n   const loadPatients = async () => {\n     try {\n       const res = await axios.get('/patients');\n       setData(res.data.message);\n       alert.success('Patients loaded');\n-\n     } catch (error) {\n       alert.error('Error while fetching patients');\n     }\n   }\n \n   useEffect(() => {\n-    loadPatients();\n-  }, []);\n+    if(!localStorage.token){\n+      navigate('/');\n+    }else{\n+      loadPatients();\n+    }\n+  },[]);\n \n   const OpenPatientCard = (currentPatient) => {\n     //allow to naviigate through the routes",
      "@@ -2,7 +2,7 @@ import './Moca.css';\n \r\n import Unity, {UnityContext} from 'react-unity-webgl';\r\n import { Fragment, useEffect, useState } from 'react';\r\n-import { Navigate, useParams } from \"react-router-dom\";\r\n+import { Navigate, useParams, useNavigate } from \"react-router-dom\";\r\n import axios from 'axios';\r\n import { useAlert } from 'react-alert'\r\n \r\n@@ -20,7 +20,8 @@ const unityContext = new UnityContext({\n }); \r\n \r\n function Moca() {\r\n-  const alert = useAlert()\r\n+  const navigate = useNavigate ();\r\n+  const alert = useAlert();\r\n   const [isUnityMounted, setIsUnityMounted] = useState(true);\r\n   const [isLoaded, setIsLoaded] = useState(false);\r\n   const [progression, setProgression] = useState(0);\r\n@@ -29,13 +30,18 @@ function Moca() {\n   const {idEmpleado, idPaciente} = useParams();\r\n \r\n   useEffect(function(){\r\n-    unityContext.on(\"progress\", handleOnUnityProgress);\r\n-    unityContext.on(\"loaded\", handleOnUnityLoaded);\r\n-    unityContext.on(\"MocaFinished\", handleMocaFinish);\r\n-\r\n-    return function(){\r\n-      unityContext.removeAllEventListeners();\r\n-    };\r\n+    if(!localStorage.token){\r\n+      navigate('/');\r\n+    }else{\r\n+      unityContext.on(\"progress\", handleOnUnityProgress);\r\n+      unityContext.on(\"loaded\", handleOnUnityLoaded);\r\n+      unityContext.on(\"MocaFinished\", handleMocaFinish);\r\n+\r\n+      return function(){\r\n+        unityContext.removeAllEventListeners();\r\n+      };\r\n+    }\r\n+    \r\n   }, []);\r\n \r\n   function handleOnUnityProgress(progression) {\r",
      "@@ -6,9 +6,11 @@ import TestButton from \"../../TestButton\";\n import TestGraph from \"../../graph/TestGraph\";\r\n import { Bar } from \"react-chartjs-2\";\r\n import ListCardTest from \"./ListCardTest\";\r\n-import { useParams } from \"react-router-dom\";\r\n+import { useParams, useNavigate } from \"react-router-dom\";\r\n import BackButton from '../../BackButton'\r\n import axios from 'axios';\r\n+import { useAlert } from 'react-alert'\r\n+\r\n \r\n const HomeLink = \"/moca/\";\r\n \r\n@@ -66,7 +68,7 @@ const Details = (props) => {\n   if (datos) {\r\n     var graphDates = datos.map((currentGraph)  => {\r\n       return (\r\n-        currentGraph.fecha\r\n+        currentGraph.fecha.slice(0, 10)\r\n       );\r\n     });\r\n   }\r\n@@ -144,6 +146,9 @@ const Details = (props) => {\n             <tbody>\r\n               {datos ? (\r\n                 datos.map((currentTest) => {\r\n+                  \r\n+                  currentTest.fecha = currentTest.fecha.slice(0, 10);\r\n+\r\n                   return (\r\n                     <ListCardTest\r\n                       testObj={currentTest}\r\n@@ -205,7 +210,8 @@ const getEdad = (dateString) => {\n const Patient = () => {\r\n   const { id } = useParams();\r\n   const [datos, setData] = React.useState(null);\r\n-\r\n+  const alert = useAlert();\r\n+  const navigate = useNavigate();\r\n   const loadPatient = async () =>{\r\n     try {\r\n       const res = await axios.get(\"/patient/\" + id);\r\n@@ -220,7 +226,11 @@ const Patient = () => {\n   }\r\n \r\n   useEffect(() => {\r\n-    loadPatient();\r\n+    if(!localStorage.token){\r\n+      navigate('/');\r\n+    }else{\r\n+      loadPatient();\r\n+    }\r\n     /*fetch(\"/patient/\" + id)\r\n       .then((res) => res.json())\r\n       .then((data) => setData(data.message));*/\r"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-05T14:33:59Z",
    "message": "Merge pull request #17 from CarloLj/addPatient\n\nReset Form",
    "additions": [
      "@@ -20,8 +20,8 @@\n     \"react-modal\": \"^3.15.1\",\n     \"react-router-dom\": \"^6.3.0\",\n     \"react-scripts\": \"5.0.0\",\n-    \"react-unity-webgl\": \"^8.8.0\",\n     \"react-transition-group\": \"^4.4.2\",\n+    \"react-unity-webgl\": \"^8.8.0\",\n     \"web-vitals\": \"^2.1.4\"\n   },\n   \"proxy\": \"http://localhost:3001\",",
      "@@ -1,10 +1,12 @@\n import { useNavigate  } from \"react-router-dom\"\n import React, {useState} from 'react'\n import './newPatient.css'\n+import { useAlert } from 'react-alert'\n \n \n const AddPatientButton = () => {\n     const navigate = useNavigate ();\n+    const alert = useAlert();\n     /*  ---  MODAL FORM --- */\n     \n     //patient register fields\n@@ -37,16 +39,24 @@ const AddPatientButton = () => {\n             e.target.value = document.getElementById('hearingCheckbox').value;\n         }\n         setPatient({...patient, [e.target.name]:e.target.value}); \n+        console.log(e.target.value)\n     }\n     const onSubmit = e => {\n         e.preventDefault();\n         console.log(patient)\n-        if(name === '' || lastName === '' || motherLastName === '' || birthday === '' || gender === '' || scholarity === '' || disabilities === '' || memoryComplaint === '' || severeHearingLoss === '' || emergencyContact === ''){\n-            console.log('Missing info')\n+        if(name === '' || lastName === '' || motherLastName === '' || birthday === '' || gender === '' || scholarity === '' || disabilities === '' || memoryComplaint === '' || severeHearingLoss === '' || emergencyContact === '' || image === ''){\n             //missing info\n-        }else{\n-            console.log('Passed test')\n-            addToDB(patient);\n+        }\n+        else{\n+            try {\n+                addToDB(patient);\n+                close();\n+                resetForm();\n+                alert.success('Paciente a\u00f1adido exitosamente');\n+            } catch (error) {\n+                alert.error(error.response.data.msg);\n+            }\n+            \n         }\n     }\n     \n@@ -74,6 +84,22 @@ const AddPatientButton = () => {\n         }\n     })\n \n+    const resetForm = () => {\n+        setPatient({...patient, \n+            \"name\"  : '',\n+            \"lastName\"  : '',\n+            \"motherLastName\": '',\n+            \"birthday\": '',\n+            \"gender\": '',\n+            \"scholarity\": '',\n+            \"disabilities\": '',\n+            \"memoryComplaint\": false,\n+            \"severeHearingLoss\": false,\n+            \"emergencyContact\": '',\n+            \"image\": ''\n+        });\n+    }\n+\n \n     /*  ---  ADD TO DATABASE --- */\n \n@@ -96,7 +122,7 @@ const AddPatientButton = () => {\n                     <a class = \"close\" onClick={close}>X</a>\n                     <div class = \"modal-text\">\n                         <h2 className='header'>Agregar nuevo paciente</h2>\n-                        <form onSubmit={onSubmit}>\n+                        <form id = \"formulario\" onSubmit={onSubmit}>\n                             <div className='grid-2'>\n                                 <div>\n                                     <input placeholder='Nombre' type='text' name = 'name' value={name} onChange = {onChange} required/>"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-05T00:53:30Z",
    "message": "auth token for requests",
    "additions": [
      "@@ -11,6 +11,15 @@ import Patient from \"./components/pages/PatientCards/Patient\";\n import Moca from \"./components/pages/MocaPage/Moca\";\n import NewPatient from './components/newPatient/NewPatient';\n \n+\n+//utils\n+import setAuthToken from \"./utils/setAuthToken\";\n+\n+//set auth token for all the web app\n+if(localStorage.getItem('token')){\n+    setAuthToken(localStorage.getItem('token')); \n+}\n+\n function App() {\n     return (\n         <Router>",
      "@@ -135,11 +135,11 @@ const Register = props => {\n                                 <input placeholder='Correo Electr\u00f3nico' type='email' name = 'email' value={email} onChange = {onChange} required/>\n                                 <div>\n                                     <i className=\"bi bi-eye\" id=\"togglePassword\" onClick={showPassword}/>\n-                                    <input id = \"password\" placeholder='Contrase\u00f1a' type='password' name = 'password' value={password} onChange = {onChange} required/>\n+                                    <input id = \"password\" placeholder='Contrase\u00f1a' type='password' name = 'password' value={password} onChange = {onChange} required minLength={6}/>\n                                 </div>\n                                 <div>\n                                     <i className=\"bi bi-eye\" id=\"togglePassword2\" onClick={showPassword2}/>\n-                                    <input id = \"password2\" placeholder='Confirmar' type='password' name = 'password2' value={password2} onChange = {onChange} required/>\n+                                    <input id = \"password2\" placeholder='Confirmar' type='password' name = 'password2' value={password2} onChange = {onChange} required minLength={6}/>\n                                 </div>\n                                 <input placeholder='URL img de perfil' type='text' name = 'pfp' value={pfp} onChange = {onChange} required/>\n ",
      "@@ -1,4 +1,4 @@\n-import React, {useState} from 'react'\n+import React, {useState,useEffect} from 'react'\n import Navbar from '../Navbar'\n import BubbleCard from '../visual/BubbleCard'\n import ListCard from '../visual/ListCard'\n@@ -10,18 +10,28 @@ import { useNavigate  } from \"react-router-dom\"\n import { IconBase } from 'react-icons'\n import AddPatientButton from '../newPatient/AddPatientButton'\n import SearchBar from \"../searchBar/searchBar\";\n+import axios from 'axios';\n+import { useAlert } from 'react-alert'\n \n const Home = () => {\n+  const alert = useAlert()\n   const navigate = useNavigate ();\n \n-  const loadPatients = () => {\n-    fetch(\"/patients\").then((res) => res.json()).then((data) => setData(data.message));\n+  const [datos, setData] = useState(null);\n+\n+  const loadPatients = async () => {\n+    try {\n+      const res = await axios.get('/patients');\n+      setData(res.data.message);\n+      alert.success('Patients loaded');\n+\n+    } catch (error) {\n+      alert.error('Error while fetching patients');\n+    }\n   }\n-  const [datos, setData] = React.useState(null);\n-  React.useEffect(() => {\n-    fetch(\"/patients\")\n-      .then((res) => res.json())\n-      .then((data) => setData(data.message));\n+\n+  useEffect(() => {\n+    loadPatients();\n   }, []);\n \n   const OpenPatientCard = (currentPatient) => {\n@@ -43,8 +53,6 @@ const Home = () => {\n   const query = new URLSearchParams(search).get('s');\n   const [searchQuery, setSearchQuery] = useState(query || '');\n   const filteredPosts = filterPosts(datos, searchQuery);\n-  \n-  \n \n   const [tipoVista, setVista] = useState(\"Grid\");\n   //loadPatients(); En caso de que quieran drenar la memoria activenlo, pero se activa un listener para nuevos datos",
      "@@ -3,6 +3,8 @@ import './Moca.css';\n import Unity, {UnityContext} from 'react-unity-webgl';\r\n import { Fragment, useEffect, useState } from 'react';\r\n import { Navigate, useParams } from \"react-router-dom\";\r\n+import axios from 'axios';\r\n+import { useAlert } from 'react-alert'\r\n \r\n const unityContext = new UnityContext({\r\n   productName: \"Geriatrik\",\r\n@@ -18,6 +20,7 @@ const unityContext = new UnityContext({\n }); \r\n \r\n function Moca() {\r\n+  const alert = useAlert()\r\n   const [isUnityMounted, setIsUnityMounted] = useState(true);\r\n   const [isLoaded, setIsLoaded] = useState(false);\r\n   const [progression, setProgression] = useState(0);\r\n@@ -66,13 +69,26 @@ function Moca() {\n     respuesta[\"puntos\"] = mocaRes.resultados.total;\r\n     respuesta[\"respuestasJSON\"] = results.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n \r\n-    fetch(\"/moca\", {\r\n+    try {\r\n+      const config = {\r\n+        headers: {\r\n+            'Content-Type': 'application/json; charset=UTF-8'\r\n+        }\r\n+    }\r\n+      const res = await axios.post('/moca',JSON.stringify(respuesta),config);\r\n+      if(res){\r\n+        alert.success('Test saved');\r\n+      }\r\n+    } catch (error) {\r\n+      alert.error('Failed to save test');\r\n+    }\r\n+    /*fetch(\"/moca\", {\r\n       method: 'POST',\r\n       headers:{\r\n         'Content-type': 'application/json; charset=UTF-8'\r\n       },\r\n       body: JSON.stringify(respuesta)\r\n-    });\r\n+    });*/\r\n   }\r\n \r\n   function handleOnClickUnMountUnity() {\r",
      "@@ -8,6 +8,7 @@ import { Bar } from \"react-chartjs-2\";\n import ListCardTest from \"./ListCardTest\";\r\n import { useParams } from \"react-router-dom\";\r\n import BackButton from '../../BackButton'\r\n+import axios from 'axios';\r\n \r\n const HomeLink = \"/moca/\";\r\n \r\n@@ -16,30 +17,42 @@ const HomeLink = \"/moca/\";\n \r\n const Details = (props) => {\r\n   const { id } = useParams(); // pacienteId\r\n-  const [datos, setData] = React.useState(null);\r\n+  const [datos, setData] = useState(null);\r\n   let valuesArray;\r\n \r\n-  if(datos) {\r\n-    var graphData = datos.map((currentGraph) => {\r\n-    return(\r\n-      currentGraph.puntos\r\n-    );\r\n-    });\r\n-    var graphDates = datos.map((currentGraph) => {\r\n+  const loadData = async () => {\r\n+    try {\r\n+      const res = await axios.get(`/tamizaje/${encodeURIComponent(props.patientID)}\"`);\r\n+      console.log(res);\r\n+      setData(res.data.message);\r\n+      console.log(datos);\r\n+\r\n+      alert.success('Data loaded');\r\n+\r\n+    } catch (error) {\r\n+      alert.error('Error while fetching data');\r\n+    }\r\n+  }\r\n+  useEffect(() => {\r\n+    loadData();\r\n+    if(datos) {\r\n+      var graphData = datos.map((currentGraph) => {\r\n       return(\r\n-        currentGraph.fecha\r\n+        currentGraph.puntos\r\n       );\r\n       });\r\n-  }\r\n-  \r\n-\r\n-  React.useEffect(() => {\r\n-    fetch(`/tamizaje/${encodeURIComponent(props.patientID)}\"`, {\r\n+      var graphDates = datos.map((currentGraph) => {\r\n+        return(\r\n+          currentGraph.fecha\r\n+        );\r\n+        });\r\n+    }\r\n+    /*fetch(`/tamizaje/${encodeURIComponent(props.patientID)}\"`, {\r\n       method: \"GET\",\r\n       headers: { \"Content-Type\": \"application/json\" },\r\n     })\r\n       .then((res) => res.json())\r\n-      .then((data) => setData(data.message));\r\n+      .then((data) => setData(data.message));*/\r\n   }, []);\r\n   // console.log(datos);\r\n \r\n@@ -73,7 +86,7 @@ const Details = (props) => {\n   // }\r\n \r\n   function getMocaLink(){\r\n-    return `/moca/${1}/${id}`\r\n+    return `/moca/${localStorage.getItem('id')}/${id}`\r\n   }\r\n   //localStorage.getItem(\"id\")\r\n \r\n@@ -192,11 +205,26 @@ const getEdad = (dateString) => {\n const Patient = () => {\r\n   const { id } = useParams();\r\n   const [datos, setData] = React.useState(null);\r\n-  React.useEffect(() => {\r\n-    fetch(\"/patient/\" + id)\r\n+\r\n+  const loadPatient = async () =>{\r\n+    try {\r\n+      const res = await axios.get(\"/patient/\" + id);\r\n+      setData(res.data.message);\r\n+      console.log(datos);\r\n+\r\n+      alert.success('Patient loaded');\r\n+\r\n+    } catch (error) {\r\n+      alert.error('Error while fetching data');\r\n+    }\r\n+  }\r\n+\r\n+  useEffect(() => {\r\n+    loadPatient();\r\n+    /*fetch(\"/patient/\" + id)\r\n       .then((res) => res.json())\r\n-      .then((data) => setData(data.message));\r\n-  }, [id]);\r\n+      .then((data) => setData(data.message));*/\r\n+  }, []);\r\n   return !datos ? (\r\n     <h1>Loading</h1>\r\n   ) : (\r",
      "@@ -0,0 +1,16 @@\n+import axios from 'axios';\n+\n+const setAuthToken = token =>{\n+    if(token){\n+        //backend header in which we send the token\n+        //sets a default config to use in every request\n+        /*this allows us to mantain the authorization \n+        in all of our app without having to make a request for the token \n+        each time we need it*/\n+        axios.defaults.headers.common['x-auth-token'] = token;\n+    }else{\n+        delete axios.defaults.headers.common['x-auth-token'];\n+    }\n+}\n+\n+export default setAuthToken;\n\\ No newline at end of file"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-03T16:20:18Z",
    "message": "Merge pull request #14 from CarloLj/login/register\n\nalerts",
    "additions": [
      "@@ -14,13 +14,16 @@\n         \"axios\": \"^0.27.2\",\n         \"chart.js\": \"^3.7.1\",\n         \"react\": \"^17.0.2\",\n+        \"react-alert\": \"^7.0.3\",\n+        \"react-alert-template-basic\": \"^1.0.2\",\n         \"react-chartjs-2\": \"^4.1.0\",\n         \"react-dom\": \"^17.0.2\",\n         \"react-icons\": \"^4.3.1\",\n         \"react-modal\": \"^3.15.1\",\n         \"react-router-dom\": \"^6.3.0\",\n         \"react-scripts\": \"5.0.0\",\n         \"react-unity-webgl\": \"^8.8.0\",\n+        \"react-transition-group\": \"^4.4.2\",\n         \"web-vitals\": \"^2.1.4\"\n       }\n     },\n@@ -6179,6 +6182,15 @@\n         \"utila\": \"~0.4\"\n       }\n     },\n+    \"node_modules/dom-helpers\": {\n+      \"version\": \"5.2.1\",\n+      \"resolved\": \"https://registry.npmjs.org/dom-helpers/-/dom-helpers-5.2.1.tgz\",\n+      \"integrity\": \"sha512-nRCa7CK3VTrM2NmGkIy4cbK7IZlgBE/PYMn55rrXefr5xXDP0LdtfPnblFDoVdcAfslJ7or6iqAUnx0CCGIWQA==\",\n+      \"dependencies\": {\n+        \"@babel/runtime\": \"^7.8.7\",\n+        \"csstype\": \"^3.0.2\"\n+      }\n+    },\n     \"node_modules/dom-serializer\": {\n       \"version\": \"1.3.2\",\n       \"resolved\": \"https://registry.npmjs.org/dom-serializer/-/dom-serializer-1.3.2.tgz\",\n@@ -13051,6 +13063,27 @@\n         \"node\": \">=0.10.0\"\n       }\n     },\n+    \"node_modules/react-alert\": {\n+      \"version\": \"7.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/react-alert/-/react-alert-7.0.3.tgz\",\n+      \"integrity\": \"sha512-cZ2ZhxytECTxljDfBKpQmwWbfJQFzFf2Qf03L/IB5shbEXtWhDD2JjiW60rwmKT1oZoU+GEnUQw5MFM5+f0B6A==\",\n+      \"dependencies\": {\n+        \"prop-types\": \"^15.7.2\",\n+        \"react-transition-group\": \"^4.4.1\"\n+      },\n+      \"peerDependencies\": {\n+        \"react\": \"^16.8.1 || ^17\",\n+        \"react-dom\": \"^16.8.1 || ^17\"\n+      }\n+    },\n+    \"node_modules/react-alert-template-basic\": {\n+      \"version\": \"1.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/react-alert-template-basic/-/react-alert-template-basic-1.0.2.tgz\",\n+      \"integrity\": \"sha512-nJSIknM5xN/GzKdKkb5/X9zdiLxSqctww3mEouyeR891nUGP8guqFpCGD8vCjFYSZtq8z3tGcAKBG1XjtLHFHQ==\",\n+      \"peerDependencies\": {\n+        \"react\": \"^16.2.0 || ^17\"\n+      }\n+    },\n     \"node_modules/react-app-polyfill\": {\n       \"version\": \"3.0.0\",\n       \"resolved\": \"https://registry.npmjs.org/react-app-polyfill/-/react-app-polyfill-3.0.0.tgz\",\n@@ -13369,6 +13402,21 @@\n         \"react\": \">=16.8.0\"\n       }\n     },\n+    \"node_modules/react-transition-group\": {\n+      \"version\": \"4.4.2\",\n+      \"resolved\": \"https://registry.npmjs.org/react-transition-group/-/react-transition-group-4.4.2.tgz\",\n+      \"integrity\": \"sha512-/RNYfRAMlZwDSr6z4zNKV6xu53/e2BuaBbGhbyYIXTrmgu/bGHzmqOs7mJSJBHy9Ud+ApHx3QjrkKSp1pxvlFg==\",\n+      \"dependencies\": {\n+        \"@babel/runtime\": \"^7.5.5\",\n+        \"dom-helpers\": \"^5.0.1\",\n+        \"loose-envify\": \"^1.4.0\",\n+        \"prop-types\": \"^15.6.2\"\n+      },\n+      \"peerDependencies\": {\n+        \"react\": \">=16.6.0\",\n+        \"react-dom\": \">=16.6.0\"\n+      }\n+    },\n     \"node_modules/readable-stream\": {\n       \"version\": \"3.6.0\",\n       \"resolved\": \"https://registry.npmjs.org/readable-stream/-/readable-stream-3.6.0.tgz\",\n@@ -20584,6 +20632,15 @@\n         \"utila\": \"~0.4\"\n       }\n     },\n+    \"dom-helpers\": {\n+      \"version\": \"5.2.1\",\n+      \"resolved\": \"https://registry.npmjs.org/dom-helpers/-/dom-helpers-5.2.1.tgz\",\n+      \"integrity\": \"sha512-nRCa7CK3VTrM2NmGkIy4cbK7IZlgBE/PYMn55rrXefr5xXDP0LdtfPnblFDoVdcAfslJ7or6iqAUnx0CCGIWQA==\",\n+      \"requires\": {\n+        \"@babel/runtime\": \"^7.8.7\",\n+        \"csstype\": \"^3.0.2\"\n+      }\n+    },\n     \"dom-serializer\": {\n       \"version\": \"1.3.2\",\n       \"resolved\": \"https://registry.npmjs.org/dom-serializer/-/dom-serializer-1.3.2.tgz\",\n@@ -25409,6 +25466,21 @@\n         \"object-assign\": \"^4.1.1\"\n       }\n     },\n+    \"react-alert\": {\n+      \"version\": \"7.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/react-alert/-/react-alert-7.0.3.tgz\",\n+      \"integrity\": \"sha512-cZ2ZhxytECTxljDfBKpQmwWbfJQFzFf2Qf03L/IB5shbEXtWhDD2JjiW60rwmKT1oZoU+GEnUQw5MFM5+f0B6A==\",\n+      \"requires\": {\n+        \"prop-types\": \"^15.7.2\",\n+        \"react-transition-group\": \"^4.4.1\"\n+      }\n+    },\n+    \"react-alert-template-basic\": {\n+      \"version\": \"1.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/react-alert-template-basic/-/react-alert-template-basic-1.0.2.tgz\",\n+      \"integrity\": \"sha512-nJSIknM5xN/GzKdKkb5/X9zdiLxSqctww3mEouyeR891nUGP8guqFpCGD8vCjFYSZtq8z3tGcAKBG1XjtLHFHQ==\",\n+      \"requires\": {}\n+    },\n     \"react-app-polyfill\": {\n       \"version\": \"3.0.0\",\n       \"resolved\": \"https://registry.npmjs.org/react-app-polyfill/-/react-app-polyfill-3.0.0.tgz\",\n@@ -25639,6 +25711,17 @@\n       \"integrity\": \"sha512-4PHTEwUQd70IJAy+jdVvHM+A6No9GMTmA/PCFOWkgpy2g0SlKJF3LREt92TfhttnMJ+CLL9iF8X03wMBvNvsjA==\",\n       \"requires\": {}\n     },\n+    \"react-transition-group\": {\n+      \"version\": \"4.4.2\",\n+      \"resolved\": \"https://registry.npmjs.org/react-transition-group/-/react-transition-group-4.4.2.tgz\",\n+      \"integrity\": \"sha512-/RNYfRAMlZwDSr6z4zNKV6xu53/e2BuaBbGhbyYIXTrmgu/bGHzmqOs7mJSJBHy9Ud+ApHx3QjrkKSp1pxvlFg==\",\n+      \"requires\": {\n+        \"@babel/runtime\": \"^7.5.5\",\n+        \"dom-helpers\": \"^5.0.1\",\n+        \"loose-envify\": \"^1.4.0\",\n+        \"prop-types\": \"^15.6.2\"\n+      }\n+    },\n     \"readable-stream\": {\n       \"version\": \"3.6.0\",\n       \"resolved\": \"https://registry.npmjs.org/readable-stream/-/readable-stream-3.6.0.tgz\",",
      "@@ -9,13 +9,16 @@\n     \"axios\": \"^0.27.2\",\n     \"chart.js\": \"^3.7.1\",\n     \"react\": \"^17.0.2\",\n+    \"react-alert\": \"^7.0.3\",\n+    \"react-alert-template-basic\": \"^1.0.2\",\n     \"react-chartjs-2\": \"^4.1.0\",\n     \"react-dom\": \"^17.0.2\",\n     \"react-icons\": \"^4.3.1\",\n     \"react-modal\": \"^3.15.1\",\n     \"react-router-dom\": \"^6.3.0\",\n     \"react-scripts\": \"5.0.0\",\n     \"react-unity-webgl\": \"^8.8.0\",\n+    \"react-transition-group\": \"^4.4.2\",\n     \"web-vitals\": \"^2.1.4\"\n   },\n   \"proxy\": \"http://localhost:3001\",",
      "@@ -204,3 +204,11 @@ h4 {\n }\n \n /* END OF CSS FOR HOME AND PATIENTS VIEWS */\n+/* Alert*/\n+.alert {\n+  padding: 0.7rem;\n+  margin: 1rem 0;\n+  opacity: 0.9;\n+  background: red;\n+  color: #fff;\n+}\n\\ No newline at end of file",
      "@@ -3,9 +3,11 @@ import { useNavigate  } from \"react-router-dom\"\n import login from '../layout/images/login.PNG'\n import './auth.css'\n import axios from 'axios';\n+import { useAlert } from 'react-alert'\n \n const Login = () => {\n     localStorage.clear();\n+    const alert = useAlert()\n \n     const navigate = useNavigate();\n \n@@ -40,15 +42,13 @@ const Login = () => {\n             const res = await axios.post('/login',user,config);\n             setAuth({token: res.data.token});\n \n-            //console.log(res.data);\n             localStorage.setItem('id',res.data.empleadoID);\n             localStorage.setItem('name',res.data.name);\n             localStorage.setItem('token',res.data.token);\n-            //console.log(authState);\n-\n+            alert.success('Bienvenid@ ' + res.data.name);\n \n         } catch (error) {\n-            console.log(error.response.data.msg);\n+            alert.error(error.response.data.msg);\n         }\n     }\n ",
      "@@ -3,11 +3,14 @@ import { useNavigate  } from \"react-router-dom\"\n import login from '../layout/images/login.PNG'\n import './auth.css'\n import axios from 'axios';\n+import { useAlert } from 'react-alert'\n \n const Register = props => {\n     localStorage.clear();\n \n-    //allow to naviigate through the routes\n+    const alert = useAlert()\n+\n+    //allow to navigate through the routes\n     const navigate = useNavigate ();\n \n     //user register fields\n@@ -53,14 +56,13 @@ const Register = props => {\n             const res = await axios.post('/register',user,config);\n             setAuth({token: res.data.token});\n \n-            //console.log(res.data);\n             localStorage.setItem('id',res.data.empleadoID);\n             localStorage.setItem('name',res.data.name);\n             localStorage.setItem('token',res.data.token);\n-            //console.log(authState);\n+            alert.success('Bienvenid@ ' + res.data.name);\n \n         } catch (error) {\n-            console.log(error.response.data.msg);\n+            alert.error(error.response.data.msg);\n         }\n     }\n ",
      "@@ -107,7 +107,7 @@ const Home = () => {\n   }\n   return (\n     <div style={{width: centeredHomeWidth}} className='centered-home'>\n-      <h1>Bienvenida de nuevo, Marcela</h1>\n+      <h1>Bienvenid@ de nuevo, {localStorage.getItem('name')}</h1>\n       <Navbar />\n       <div className='home-bar'>\n         <div className='home-view-buttons'>",
      "@@ -3,11 +3,21 @@ import ReactDOM from 'react-dom';\n import './index.css';\n import App from './App';\n import reportWebVitals from './reportWebVitals';\n+import { Provider as AlertProvider } from 'react-alert';\n+import AlertTemplate from 'react-alert-template-basic';\n+\n+// optional cofiguration\n+const options = {\n+  position: 'bottom center',\n+  timeout: 5000,\n+  offset: '30px',\n+  transition: 'scale'\n+}\n \n ReactDOM.render(\n-  <React.StrictMode>\n+  <AlertProvider template={AlertTemplate} {...options}>\n     <App />\n-  </React.StrictMode>,\n+  </AlertProvider>,\n   document.getElementById('root')\n );\n "
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-03T16:15:03Z",
    "message": "alerts",
    "additions": [
      "@@ -14,13 +14,16 @@\n         \"axios\": \"^0.27.2\",\n         \"chart.js\": \"^3.7.1\",\n         \"react\": \"^17.0.2\",\n+        \"react-alert\": \"^7.0.3\",\n+        \"react-alert-template-basic\": \"^1.0.2\",\n         \"react-chartjs-2\": \"^4.1.0\",\n         \"react-dom\": \"^17.0.2\",\n         \"react-icons\": \"^4.3.1\",\n         \"react-modal\": \"^3.15.1\",\n         \"react-router-dom\": \"^6.3.0\",\n         \"react-scripts\": \"5.0.0\",\n         \"react-unity-webgl\": \"^8.8.0\",\n+        \"react-transition-group\": \"^4.4.2\",\n         \"web-vitals\": \"^2.1.4\"\n       }\n     },\n@@ -6179,6 +6182,15 @@\n         \"utila\": \"~0.4\"\n       }\n     },\n+    \"node_modules/dom-helpers\": {\n+      \"version\": \"5.2.1\",\n+      \"resolved\": \"https://registry.npmjs.org/dom-helpers/-/dom-helpers-5.2.1.tgz\",\n+      \"integrity\": \"sha512-nRCa7CK3VTrM2NmGkIy4cbK7IZlgBE/PYMn55rrXefr5xXDP0LdtfPnblFDoVdcAfslJ7or6iqAUnx0CCGIWQA==\",\n+      \"dependencies\": {\n+        \"@babel/runtime\": \"^7.8.7\",\n+        \"csstype\": \"^3.0.2\"\n+      }\n+    },\n     \"node_modules/dom-serializer\": {\n       \"version\": \"1.3.2\",\n       \"resolved\": \"https://registry.npmjs.org/dom-serializer/-/dom-serializer-1.3.2.tgz\",\n@@ -13051,6 +13063,27 @@\n         \"node\": \">=0.10.0\"\n       }\n     },\n+    \"node_modules/react-alert\": {\n+      \"version\": \"7.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/react-alert/-/react-alert-7.0.3.tgz\",\n+      \"integrity\": \"sha512-cZ2ZhxytECTxljDfBKpQmwWbfJQFzFf2Qf03L/IB5shbEXtWhDD2JjiW60rwmKT1oZoU+GEnUQw5MFM5+f0B6A==\",\n+      \"dependencies\": {\n+        \"prop-types\": \"^15.7.2\",\n+        \"react-transition-group\": \"^4.4.1\"\n+      },\n+      \"peerDependencies\": {\n+        \"react\": \"^16.8.1 || ^17\",\n+        \"react-dom\": \"^16.8.1 || ^17\"\n+      }\n+    },\n+    \"node_modules/react-alert-template-basic\": {\n+      \"version\": \"1.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/react-alert-template-basic/-/react-alert-template-basic-1.0.2.tgz\",\n+      \"integrity\": \"sha512-nJSIknM5xN/GzKdKkb5/X9zdiLxSqctww3mEouyeR891nUGP8guqFpCGD8vCjFYSZtq8z3tGcAKBG1XjtLHFHQ==\",\n+      \"peerDependencies\": {\n+        \"react\": \"^16.2.0 || ^17\"\n+      }\n+    },\n     \"node_modules/react-app-polyfill\": {\n       \"version\": \"3.0.0\",\n       \"resolved\": \"https://registry.npmjs.org/react-app-polyfill/-/react-app-polyfill-3.0.0.tgz\",\n@@ -13369,6 +13402,21 @@\n         \"react\": \">=16.8.0\"\n       }\n     },\n+    \"node_modules/react-transition-group\": {\n+      \"version\": \"4.4.2\",\n+      \"resolved\": \"https://registry.npmjs.org/react-transition-group/-/react-transition-group-4.4.2.tgz\",\n+      \"integrity\": \"sha512-/RNYfRAMlZwDSr6z4zNKV6xu53/e2BuaBbGhbyYIXTrmgu/bGHzmqOs7mJSJBHy9Ud+ApHx3QjrkKSp1pxvlFg==\",\n+      \"dependencies\": {\n+        \"@babel/runtime\": \"^7.5.5\",\n+        \"dom-helpers\": \"^5.0.1\",\n+        \"loose-envify\": \"^1.4.0\",\n+        \"prop-types\": \"^15.6.2\"\n+      },\n+      \"peerDependencies\": {\n+        \"react\": \">=16.6.0\",\n+        \"react-dom\": \">=16.6.0\"\n+      }\n+    },\n     \"node_modules/readable-stream\": {\n       \"version\": \"3.6.0\",\n       \"resolved\": \"https://registry.npmjs.org/readable-stream/-/readable-stream-3.6.0.tgz\",\n@@ -20584,6 +20632,15 @@\n         \"utila\": \"~0.4\"\n       }\n     },\n+    \"dom-helpers\": {\n+      \"version\": \"5.2.1\",\n+      \"resolved\": \"https://registry.npmjs.org/dom-helpers/-/dom-helpers-5.2.1.tgz\",\n+      \"integrity\": \"sha512-nRCa7CK3VTrM2NmGkIy4cbK7IZlgBE/PYMn55rrXefr5xXDP0LdtfPnblFDoVdcAfslJ7or6iqAUnx0CCGIWQA==\",\n+      \"requires\": {\n+        \"@babel/runtime\": \"^7.8.7\",\n+        \"csstype\": \"^3.0.2\"\n+      }\n+    },\n     \"dom-serializer\": {\n       \"version\": \"1.3.2\",\n       \"resolved\": \"https://registry.npmjs.org/dom-serializer/-/dom-serializer-1.3.2.tgz\",\n@@ -25409,6 +25466,21 @@\n         \"object-assign\": \"^4.1.1\"\n       }\n     },\n+    \"react-alert\": {\n+      \"version\": \"7.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/react-alert/-/react-alert-7.0.3.tgz\",\n+      \"integrity\": \"sha512-cZ2ZhxytECTxljDfBKpQmwWbfJQFzFf2Qf03L/IB5shbEXtWhDD2JjiW60rwmKT1oZoU+GEnUQw5MFM5+f0B6A==\",\n+      \"requires\": {\n+        \"prop-types\": \"^15.7.2\",\n+        \"react-transition-group\": \"^4.4.1\"\n+      }\n+    },\n+    \"react-alert-template-basic\": {\n+      \"version\": \"1.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/react-alert-template-basic/-/react-alert-template-basic-1.0.2.tgz\",\n+      \"integrity\": \"sha512-nJSIknM5xN/GzKdKkb5/X9zdiLxSqctww3mEouyeR891nUGP8guqFpCGD8vCjFYSZtq8z3tGcAKBG1XjtLHFHQ==\",\n+      \"requires\": {}\n+    },\n     \"react-app-polyfill\": {\n       \"version\": \"3.0.0\",\n       \"resolved\": \"https://registry.npmjs.org/react-app-polyfill/-/react-app-polyfill-3.0.0.tgz\",\n@@ -25639,6 +25711,17 @@\n       \"integrity\": \"sha512-4PHTEwUQd70IJAy+jdVvHM+A6No9GMTmA/PCFOWkgpy2g0SlKJF3LREt92TfhttnMJ+CLL9iF8X03wMBvNvsjA==\",\n       \"requires\": {}\n     },\n+    \"react-transition-group\": {\n+      \"version\": \"4.4.2\",\n+      \"resolved\": \"https://registry.npmjs.org/react-transition-group/-/react-transition-group-4.4.2.tgz\",\n+      \"integrity\": \"sha512-/RNYfRAMlZwDSr6z4zNKV6xu53/e2BuaBbGhbyYIXTrmgu/bGHzmqOs7mJSJBHy9Ud+ApHx3QjrkKSp1pxvlFg==\",\n+      \"requires\": {\n+        \"@babel/runtime\": \"^7.5.5\",\n+        \"dom-helpers\": \"^5.0.1\",\n+        \"loose-envify\": \"^1.4.0\",\n+        \"prop-types\": \"^15.6.2\"\n+      }\n+    },\n     \"readable-stream\": {\n       \"version\": \"3.6.0\",\n       \"resolved\": \"https://registry.npmjs.org/readable-stream/-/readable-stream-3.6.0.tgz\",",
      "@@ -9,13 +9,16 @@\n     \"axios\": \"^0.27.2\",\n     \"chart.js\": \"^3.7.1\",\n     \"react\": \"^17.0.2\",\n+    \"react-alert\": \"^7.0.3\",\n+    \"react-alert-template-basic\": \"^1.0.2\",\n     \"react-chartjs-2\": \"^4.1.0\",\n     \"react-dom\": \"^17.0.2\",\n     \"react-icons\": \"^4.3.1\",\n     \"react-modal\": \"^3.15.1\",\n     \"react-router-dom\": \"^6.3.0\",\n     \"react-scripts\": \"5.0.0\",\n     \"react-unity-webgl\": \"^8.8.0\",\n+    \"react-transition-group\": \"^4.4.2\",\n     \"web-vitals\": \"^2.1.4\"\n   },\n   \"proxy\": \"http://localhost:3001\",",
      "@@ -204,3 +204,11 @@ h4 {\n }\n \n /* END OF CSS FOR HOME AND PATIENTS VIEWS */\n+/* Alert*/\n+.alert {\n+  padding: 0.7rem;\n+  margin: 1rem 0;\n+  opacity: 0.9;\n+  background: red;\n+  color: #fff;\n+}\n\\ No newline at end of file",
      "@@ -3,9 +3,11 @@ import { useNavigate  } from \"react-router-dom\"\n import login from '../layout/images/login.PNG'\n import './auth.css'\n import axios from 'axios';\n+import { useAlert } from 'react-alert'\n \n const Login = () => {\n     localStorage.clear();\n+    const alert = useAlert()\n \n     const navigate = useNavigate();\n \n@@ -40,15 +42,13 @@ const Login = () => {\n             const res = await axios.post('/login',user,config);\n             setAuth({token: res.data.token});\n \n-            //console.log(res.data);\n             localStorage.setItem('id',res.data.empleadoID);\n             localStorage.setItem('name',res.data.name);\n             localStorage.setItem('token',res.data.token);\n-            //console.log(authState);\n-\n+            alert.success('Bienvenid@ ' + res.data.name);\n \n         } catch (error) {\n-            console.log(error.response.data.msg);\n+            alert.error(error.response.data.msg);\n         }\n     }\n ",
      "@@ -3,11 +3,14 @@ import { useNavigate  } from \"react-router-dom\"\n import login from '../layout/images/login.PNG'\n import './auth.css'\n import axios from 'axios';\n+import { useAlert } from 'react-alert'\n \n const Register = props => {\n     localStorage.clear();\n \n-    //allow to naviigate through the routes\n+    const alert = useAlert()\n+\n+    //allow to navigate through the routes\n     const navigate = useNavigate ();\n \n     //user register fields\n@@ -53,14 +56,13 @@ const Register = props => {\n             const res = await axios.post('/register',user,config);\n             setAuth({token: res.data.token});\n \n-            //console.log(res.data);\n             localStorage.setItem('id',res.data.empleadoID);\n             localStorage.setItem('name',res.data.name);\n             localStorage.setItem('token',res.data.token);\n-            //console.log(authState);\n+            alert.success('Bienvenid@ ' + res.data.name);\n \n         } catch (error) {\n-            console.log(error.response.data.msg);\n+            alert.error(error.response.data.msg);\n         }\n     }\n ",
      "@@ -107,7 +107,7 @@ const Home = () => {\n   }\n   return (\n     <div style={{width: centeredHomeWidth}} className='centered-home'>\n-      <h1>Bienvenida de nuevo, Marcela</h1>\n+      <h1>Bienvenid@ de nuevo, {localStorage.getItem('name')}</h1>\n       <Navbar />\n       <div className='home-bar'>\n         <div className='home-view-buttons'>",
      "@@ -3,11 +3,21 @@ import ReactDOM from 'react-dom';\n import './index.css';\n import App from './App';\n import reportWebVitals from './reportWebVitals';\n+import { Provider as AlertProvider } from 'react-alert';\n+import AlertTemplate from 'react-alert-template-basic';\n+\n+// optional cofiguration\n+const options = {\n+  position: 'bottom center',\n+  timeout: 5000,\n+  offset: '30px',\n+  transition: 'scale'\n+}\n \n ReactDOM.render(\n-  <React.StrictMode>\n+  <AlertProvider template={AlertTemplate} {...options}>\n     <App />\n-  </React.StrictMode>,\n+  </AlertProvider>,\n   document.getElementById('root')\n );\n "
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-03T14:58:04Z",
    "message": "Merge pull request #12 from CarloLj/login/register\n\nLogin/register api integration",
    "additions": [
      "@@ -11,6 +11,7 @@\n         \"@testing-library/jest-dom\": \"^5.16.2\",\n         \"@testing-library/react\": \"^12.1.4\",\n         \"@testing-library/user-event\": \"^13.5.0\",\n+        \"axios\": \"^0.27.2\",\n         \"chart.js\": \"^3.7.1\",\n         \"react\": \"^17.0.2\",\n         \"react-chartjs-2\": \"^4.1.0\",\n@@ -4449,6 +4450,28 @@\n         \"node\": \">=4\"\n       }\n     },\n+    \"node_modules/axios\": {\n+      \"version\": \"0.27.2\",\n+      \"resolved\": \"https://registry.npmjs.org/axios/-/axios-0.27.2.tgz\",\n+      \"integrity\": \"sha512-t+yRIyySRTp/wua5xEr+z1q60QmLq8ABsS5O9Me1AsE5dfKqgnCFzwiCZZ/cGNd1lq4/7akDWMxdhVlucjmnOQ==\",\n+      \"dependencies\": {\n+        \"follow-redirects\": \"^1.14.9\",\n+        \"form-data\": \"^4.0.0\"\n+      }\n+    },\n+    \"node_modules/axios/node_modules/form-data\": {\n+      \"version\": \"4.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/form-data/-/form-data-4.0.0.tgz\",\n+      \"integrity\": \"sha512-ETEklSGi5t0QMZuiXoA/Q6vcnxcLQP5vdugSpuAyi6SVGi2clPPp+xgEhuMaHC+zGgn31Kd235W35f7Hykkaww==\",\n+      \"dependencies\": {\n+        \"asynckit\": \"^0.4.0\",\n+        \"combined-stream\": \"^1.0.8\",\n+        \"mime-types\": \"^2.1.12\"\n+      },\n+      \"engines\": {\n+        \"node\": \">= 6\"\n+      }\n+    },\n     \"node_modules/axobject-query\": {\n       \"version\": \"2.2.0\",\n       \"resolved\": \"https://registry.npmjs.org/axobject-query/-/axobject-query-2.2.0.tgz\",\n@@ -19260,6 +19283,27 @@\n       \"resolved\": \"https://registry.npmjs.org/axe-core/-/axe-core-4.4.1.tgz\",\n       \"integrity\": \"sha512-gd1kmb21kwNuWr6BQz8fv6GNECPBnUasepcoLbekws23NVBLODdsClRZ+bQ8+9Uomf3Sm3+Vwn0oYG9NvwnJCw==\"\n     },\n+    \"axios\": {\n+      \"version\": \"0.27.2\",\n+      \"resolved\": \"https://registry.npmjs.org/axios/-/axios-0.27.2.tgz\",\n+      \"integrity\": \"sha512-t+yRIyySRTp/wua5xEr+z1q60QmLq8ABsS5O9Me1AsE5dfKqgnCFzwiCZZ/cGNd1lq4/7akDWMxdhVlucjmnOQ==\",\n+      \"requires\": {\n+        \"follow-redirects\": \"^1.14.9\",\n+        \"form-data\": \"^4.0.0\"\n+      },\n+      \"dependencies\": {\n+        \"form-data\": {\n+          \"version\": \"4.0.0\",\n+          \"resolved\": \"https://registry.npmjs.org/form-data/-/form-data-4.0.0.tgz\",\n+          \"integrity\": \"sha512-ETEklSGi5t0QMZuiXoA/Q6vcnxcLQP5vdugSpuAyi6SVGi2clPPp+xgEhuMaHC+zGgn31Kd235W35f7Hykkaww==\",\n+          \"requires\": {\n+            \"asynckit\": \"^0.4.0\",\n+            \"combined-stream\": \"^1.0.8\",\n+            \"mime-types\": \"^2.1.12\"\n+          }\n+        }\n+      }\n+    },\n     \"axobject-query\": {\n       \"version\": \"2.2.0\",\n       \"resolved\": \"https://registry.npmjs.org/axobject-query/-/axobject-query-2.2.0.tgz\",",
      "@@ -6,6 +6,7 @@\n     \"@testing-library/jest-dom\": \"^5.16.2\",\n     \"@testing-library/react\": \"^12.1.4\",\n     \"@testing-library/user-event\": \"^13.5.0\",\n+    \"axios\": \"^0.27.2\",\n     \"chart.js\": \"^3.7.1\",\n     \"react\": \"^17.0.2\",\n     \"react-chartjs-2\": \"^4.1.0\",",
      "@@ -1,41 +1,63 @@\n-import React, {useState} from 'react'\n+import React, {useEffect, useState} from 'react'\n import { useNavigate  } from \"react-router-dom\"\n import login from '../layout/images/login.PNG'\n import './auth.css'\n+import axios from 'axios';\n \n const Login = () => {\n+    localStorage.clear();\n \n-    const navigate = useNavigate ();\n+    const navigate = useNavigate();\n \n     const [user,setUser] = useState({\n         email: '',\n         password: ''\n     });\n \n+    const [authState,setAuth] = useState({\n+        token: ''\n+    });\n+\n+    useEffect(() => {\n+        if(authState.token !== ''){\n+            navigate('/home');\n+        }\n+        //eslint-disable-next-line\n+    },[authState.token]);\n+\n     const {email,password} = user;\n \n     const onChange = e => setUser({...user, [e.target.name]:e.target.value});\n \n+    const loginUser = async() => {\n+        const config = {\n+            headers: {\n+                'Content-Type': 'application/json'\n+            }\n+        }\n+\n+        try {\n+            const res = await axios.post('/login',user,config);\n+            setAuth({token: res.data.token});\n+\n+            //console.log(res.data);\n+            localStorage.setItem('id',res.data.empleadoID);\n+            localStorage.setItem('name',res.data.name);\n+            localStorage.setItem('token',res.data.token);\n+            //console.log(authState);\n+\n+\n+        } catch (error) {\n+            console.log(error.response.data.msg);\n+        }\n+    }\n+\n     const onSubmit = e => {\n         e.preventDefault();\n-        navigate('/home');\n-        /*if(email === '' || password === ''){\n-            //missing inputs\n-        }else{\n-            //login\n-        }*/\n-    }\n \n-    /*const togglePassword = document.querySelector('#togglePassword');\n-    const passwordInput = document.querySelector('#password');\n+        loginUser();\n \n-    togglePassword.addEventListener('click', function (e) {\n-        // toggle the type attribute\n-        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';\n-        passwordInput.setAttribute('type', type);\n-        // toggle the eye / eye slash icon\n-        this.classList.toggle('bi-eye-slash');\n-    });*/\n+    }\n \n     const showPassword = () =>{\n         const toggle = document.getElementById('togglePassword');",
      "@@ -1,10 +1,12 @@\n-import React, {useState} from 'react'\n+import React, {useState, useEffect} from 'react'\n import { useNavigate  } from \"react-router-dom\"\n import login from '../layout/images/login.PNG'\n import './auth.css'\n+import axios from 'axios';\n \n const Register = props => {\n-    \n+    localStorage.clear();\n+\n     //allow to naviigate through the routes\n     const navigate = useNavigate ();\n \n@@ -14,31 +16,70 @@ const Register = props => {\n         lastnameP: '',\n         lastnameM: '',\n         date: '',\n-        type: '',\n-        sex: '',\n+        type: 1,\n+        sex: 'Masculino',\n         cedula: '',\n         email: '',\n         password: '',\n-        password2: ''\n+        password2: '',\n+        pfp: ''\n     });\n \n-    const {name,lastnameP,lastnameM,date,cedula,email,password,password2} = user;\n+    const [authState,setAuth] = useState({\n+        token: ''\n+    });\n+\n+    useEffect(() => {\n+        if(authState.token !== ''){\n+            navigate('/home');\n+        }\n+        //eslint-disable-next-line\n+    },[authState.token]);\n+\n+    const {name,lastnameP,lastnameM,date,cedula,email,password,password2,pfp} = user;\n \n     //copies user data and changes the target of the onchange\n     const onChange = e => setUser({...user, [e.target.name]:e.target.value});\n \n+    const registerUser = async() => {\n+        const config = {\n+            headers: {\n+                'Content-Type': 'application/json'\n+            }\n+        }\n+        console.log(user);\n+\n+        try {\n+            const res = await axios.post('/register',user,config);\n+            setAuth({token: res.data.token});\n+\n+            //console.log(res.data);\n+            localStorage.setItem('id',res.data.empleadoID);\n+            localStorage.setItem('name',res.data.name);\n+            localStorage.setItem('token',res.data.token);\n+            //console.log(authState);\n+\n+        } catch (error) {\n+            console.log(error.response.data.msg);\n+        }\n+    }\n+\n     const onSubmit = e => {\n         e.preventDefault();\n         console.log(user);\n         if(name === '' || email === '' || password === ''){\n             //missing info\n+            console.log(\"Please fill all the inputs\");\n         }else if (password !== password2){\n             //passwords do not match\n+            console.log(\"Passwords do not match\");\n         }else{\n             //register\n-            navigate('/home');\n+            registerUser();\n         }\n     }\n+\n+\n     \n     const showPassword = () =>{\n         const toggle = document.getElementById('togglePassword');\n@@ -78,8 +119,8 @@ const Register = props => {\n                                 <input placeholder='Apellido Paterno' type='text' name = 'lastnameP' value={lastnameP} onChange = {onChange} required/>\n                                 <input placeholder='Fecha de nacimiento' type='date' name = 'date' value={date} onChange = {onChange} required/>\n                                 <select id=\"empleados\" name='type' onChange = {onChange}>\n-                                    <option value=\"M\u00e9dic@\">M\u00e9dic@</option>\n-                                    <option value=\"Enfermer@\">Enfermer@</option>\n+                                    <option value={1}>M\u00e9dic@</option>\n+                                    <option value={2}>Enfermer@</option>\n                                 </select >\n                                 <select  id=\"sexos\" name='sex' onChange = {onChange}>\n                                     <option value=\"Masculino\">Masculino</option>\n@@ -96,8 +137,10 @@ const Register = props => {\n                                 </div>\n                                 <div>\n                                     <i className=\"bi bi-eye\" id=\"togglePassword2\" onClick={showPassword2}/>\n-                                    <input id = \"password2\" placeholder='Confirmar Contrase\u00f1a' type='password' name = 'password2' value={password2} onChange = {onChange} required/>\n+                                    <input id = \"password2\" placeholder='Confirmar' type='password' name = 'password2' value={password2} onChange = {onChange} required/>\n                                 </div>\n+                                <input placeholder='URL img de perfil' type='text' name = 'pfp' value={pfp} onChange = {onChange} required/>\n+\n                             </div>\n                         </div>\n                         <br/>"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-03T14:56:55Z",
    "message": "merge conflict fix",
    "additions": [
      "@@ -193,7 +193,7 @@ const Details =(props) =>{\n                 </tr>\n             </thead>\n             <tbody>\n-                {/*\n+                {\n                 examenes.map((currentTest) => {\n                 return(\n                     <ListCardTest\n@@ -205,7 +205,7 @@ const Details =(props) =>{\n                         notas={currentTest.notas}\n                     />\n                 );\n-                })*/} \n+                })} \n             </tbody>\n             </table>\n             }"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-03T14:53:05Z",
    "message": "register api integration",
    "additions": [
      "@@ -1,10 +1,12 @@\n-import React, {useState} from 'react'\n+import React, {useState, useEffect} from 'react'\n import { useNavigate  } from \"react-router-dom\"\n import login from '../layout/images/login.PNG'\n import './auth.css'\n+import axios from 'axios';\n \n const Register = props => {\n-    \n+    localStorage.clear();\n+\n     //allow to naviigate through the routes\n     const navigate = useNavigate ();\n \n@@ -14,31 +16,70 @@ const Register = props => {\n         lastnameP: '',\n         lastnameM: '',\n         date: '',\n-        type: '',\n-        sex: '',\n+        type: 1,\n+        sex: 'Masculino',\n         cedula: '',\n         email: '',\n         password: '',\n-        password2: ''\n+        password2: '',\n+        pfp: ''\n     });\n \n-    const {name,lastnameP,lastnameM,date,cedula,email,password,password2} = user;\n+    const [authState,setAuth] = useState({\n+        token: ''\n+    });\n+\n+    useEffect(() => {\n+        if(authState.token !== ''){\n+            navigate('/home');\n+        }\n+        //eslint-disable-next-line\n+    },[authState.token]);\n+\n+    const {name,lastnameP,lastnameM,date,cedula,email,password,password2,pfp} = user;\n \n     //copies user data and changes the target of the onchange\n     const onChange = e => setUser({...user, [e.target.name]:e.target.value});\n \n+    const registerUser = async() => {\n+        const config = {\n+            headers: {\n+                'Content-Type': 'application/json'\n+            }\n+        }\n+        console.log(user);\n+\n+        try {\n+            const res = await axios.post('/register',user,config);\n+            setAuth({token: res.data.token});\n+\n+            //console.log(res.data);\n+            localStorage.setItem('id',res.data.empleadoID);\n+            localStorage.setItem('name',res.data.name);\n+            localStorage.setItem('token',res.data.token);\n+            //console.log(authState);\n+\n+        } catch (error) {\n+            console.log(error.response.data.msg);\n+        }\n+    }\n+\n     const onSubmit = e => {\n         e.preventDefault();\n         console.log(user);\n         if(name === '' || email === '' || password === ''){\n             //missing info\n+            console.log(\"Please fill all the inputs\");\n         }else if (password !== password2){\n             //passwords do not match\n+            console.log(\"Passwords do not match\");\n         }else{\n             //register\n-            navigate('/home');\n+            registerUser();\n         }\n     }\n+\n+\n     \n     const showPassword = () =>{\n         const toggle = document.getElementById('togglePassword');\n@@ -78,8 +119,8 @@ const Register = props => {\n                                 <input placeholder='Apellido Paterno' type='text' name = 'lastnameP' value={lastnameP} onChange = {onChange} required/>\n                                 <input placeholder='Fecha de nacimiento' type='date' name = 'date' value={date} onChange = {onChange} required/>\n                                 <select id=\"empleados\" name='type' onChange = {onChange}>\n-                                    <option value=\"M\u00e9dic@\">M\u00e9dic@</option>\n-                                    <option value=\"Enfermer@\">Enfermer@</option>\n+                                    <option value={1}>M\u00e9dic@</option>\n+                                    <option value={2}>Enfermer@</option>\n                                 </select >\n                                 <select  id=\"sexos\" name='sex' onChange = {onChange}>\n                                     <option value=\"Masculino\">Masculino</option>\n@@ -96,8 +137,10 @@ const Register = props => {\n                                 </div>\n                                 <div>\n                                     <i className=\"bi bi-eye\" id=\"togglePassword2\" onClick={showPassword2}/>\n-                                    <input id = \"password2\" placeholder='Confirmar Contrase\u00f1a' type='password' name = 'password2' value={password2} onChange = {onChange} required/>\n+                                    <input id = \"password2\" placeholder='Confirmar' type='password' name = 'password2' value={password2} onChange = {onChange} required/>\n                                 </div>\n+                                <input placeholder='URL img de perfil' type='text' name = 'pfp' value={pfp} onChange = {onChange} required/>\n+\n                             </div>\n                         </div>\n                         <br/>"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-03T13:40:32Z",
    "message": "Login api integration",
    "additions": [
      "@@ -11,6 +11,7 @@\n         \"@testing-library/jest-dom\": \"^5.16.2\",\n         \"@testing-library/react\": \"^12.1.4\",\n         \"@testing-library/user-event\": \"^13.5.0\",\n+        \"axios\": \"^0.27.2\",\n         \"chart.js\": \"^3.7.1\",\n         \"react\": \"^17.0.2\",\n         \"react-chartjs-2\": \"^4.1.0\",\n@@ -4447,6 +4448,28 @@\n         \"node\": \">=4\"\n       }\n     },\n+    \"node_modules/axios\": {\n+      \"version\": \"0.27.2\",\n+      \"resolved\": \"https://registry.npmjs.org/axios/-/axios-0.27.2.tgz\",\n+      \"integrity\": \"sha512-t+yRIyySRTp/wua5xEr+z1q60QmLq8ABsS5O9Me1AsE5dfKqgnCFzwiCZZ/cGNd1lq4/7akDWMxdhVlucjmnOQ==\",\n+      \"dependencies\": {\n+        \"follow-redirects\": \"^1.14.9\",\n+        \"form-data\": \"^4.0.0\"\n+      }\n+    },\n+    \"node_modules/axios/node_modules/form-data\": {\n+      \"version\": \"4.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/form-data/-/form-data-4.0.0.tgz\",\n+      \"integrity\": \"sha512-ETEklSGi5t0QMZuiXoA/Q6vcnxcLQP5vdugSpuAyi6SVGi2clPPp+xgEhuMaHC+zGgn31Kd235W35f7Hykkaww==\",\n+      \"dependencies\": {\n+        \"asynckit\": \"^0.4.0\",\n+        \"combined-stream\": \"^1.0.8\",\n+        \"mime-types\": \"^2.1.12\"\n+      },\n+      \"engines\": {\n+        \"node\": \">= 6\"\n+      }\n+    },\n     \"node_modules/axobject-query\": {\n       \"version\": \"2.2.0\",\n       \"resolved\": \"https://registry.npmjs.org/axobject-query/-/axobject-query-2.2.0.tgz\",\n@@ -19204,6 +19227,27 @@\n       \"resolved\": \"https://registry.npmjs.org/axe-core/-/axe-core-4.4.1.tgz\",\n       \"integrity\": \"sha512-gd1kmb21kwNuWr6BQz8fv6GNECPBnUasepcoLbekws23NVBLODdsClRZ+bQ8+9Uomf3Sm3+Vwn0oYG9NvwnJCw==\"\n     },\n+    \"axios\": {\n+      \"version\": \"0.27.2\",\n+      \"resolved\": \"https://registry.npmjs.org/axios/-/axios-0.27.2.tgz\",\n+      \"integrity\": \"sha512-t+yRIyySRTp/wua5xEr+z1q60QmLq8ABsS5O9Me1AsE5dfKqgnCFzwiCZZ/cGNd1lq4/7akDWMxdhVlucjmnOQ==\",\n+      \"requires\": {\n+        \"follow-redirects\": \"^1.14.9\",\n+        \"form-data\": \"^4.0.0\"\n+      },\n+      \"dependencies\": {\n+        \"form-data\": {\n+          \"version\": \"4.0.0\",\n+          \"resolved\": \"https://registry.npmjs.org/form-data/-/form-data-4.0.0.tgz\",\n+          \"integrity\": \"sha512-ETEklSGi5t0QMZuiXoA/Q6vcnxcLQP5vdugSpuAyi6SVGi2clPPp+xgEhuMaHC+zGgn31Kd235W35f7Hykkaww==\",\n+          \"requires\": {\n+            \"asynckit\": \"^0.4.0\",\n+            \"combined-stream\": \"^1.0.8\",\n+            \"mime-types\": \"^2.1.12\"\n+          }\n+        }\n+      }\n+    },\n     \"axobject-query\": {\n       \"version\": \"2.2.0\",\n       \"resolved\": \"https://registry.npmjs.org/axobject-query/-/axobject-query-2.2.0.tgz\",",
      "@@ -6,6 +6,7 @@\n     \"@testing-library/jest-dom\": \"^5.16.2\",\n     \"@testing-library/react\": \"^12.1.4\",\n     \"@testing-library/user-event\": \"^13.5.0\",\n+    \"axios\": \"^0.27.2\",\n     \"chart.js\": \"^3.7.1\",\n     \"react\": \"^17.0.2\",\n     \"react-chartjs-2\": \"^4.1.0\",",
      "@@ -1,41 +1,63 @@\n-import React, {useState} from 'react'\n+import React, {useEffect, useState} from 'react'\n import { useNavigate  } from \"react-router-dom\"\n import login from '../layout/images/login.PNG'\n import './auth.css'\n+import axios from 'axios';\n \n const Login = () => {\n+    localStorage.clear();\n \n-    const navigate = useNavigate ();\n+    const navigate = useNavigate();\n \n     const [user,setUser] = useState({\n         email: '',\n         password: ''\n     });\n \n+    const [authState,setAuth] = useState({\n+        token: ''\n+    });\n+\n+    useEffect(() => {\n+        if(authState.token !== ''){\n+            navigate('/home');\n+        }\n+        //eslint-disable-next-line\n+    },[authState.token]);\n+\n     const {email,password} = user;\n \n     const onChange = e => setUser({...user, [e.target.name]:e.target.value});\n \n+    const loginUser = async() => {\n+        const config = {\n+            headers: {\n+                'Content-Type': 'application/json'\n+            }\n+        }\n+\n+        try {\n+            const res = await axios.post('/login',user,config);\n+            setAuth({token: res.data.token});\n+\n+            //console.log(res.data);\n+            localStorage.setItem('id',res.data.empleadoID);\n+            localStorage.setItem('name',res.data.name);\n+            localStorage.setItem('token',res.data.token);\n+            //console.log(authState);\n+\n+\n+        } catch (error) {\n+            console.log(error.response.data.msg);\n+        }\n+    }\n+\n     const onSubmit = e => {\n         e.preventDefault();\n-        navigate('/home');\n-        /*if(email === '' || password === ''){\n-            //missing inputs\n-        }else{\n-            //login\n-        }*/\n-    }\n \n-    /*const togglePassword = document.querySelector('#togglePassword');\n-    const passwordInput = document.querySelector('#password');\n+        loginUser();\n \n-    togglePassword.addEventListener('click', function (e) {\n-        // toggle the type attribute\n-        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';\n-        passwordInput.setAttribute('type', type);\n-        // toggle the eye / eye slash icon\n-        this.classList.toggle('bi-eye-slash');\n-    });*/\n+    }\n \n     const showPassword = () =>{\n         const toggle = document.getElementById('togglePassword');",
      "@@ -193,7 +193,7 @@ const Details =(props) =>{\n                 </tr>\n             </thead>\n             <tbody>\n-                {\n+                {/*\n                 examenes.map((currentTest) => {\n                 return(\n                     <ListCardTest\n@@ -205,7 +205,7 @@ const Details =(props) =>{\n                         notas={currentTest.notas}\n                     />\n                 );\n-                })} \n+                })*/} \n             </tbody>\n             </table>\n             }"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-05-02T16:39:09Z",
    "message": "Merge pull request #9 from CarloLj/feature/Home+patientCard\n\nfeature(Home): Dar click en una persona redirecciona a su tarjeta",
    "additions": [
      "@@ -17,7 +17,7 @@ function App() {\n                     <Route exact path='/' element = {<Login/>}/>\n                     <Route exact path='/home' element = {<Home/>}/>\n                     <Route exact path='/Register' element = {<Register/>}/>\n-                    <Route exact path='/PatientCard' element = {<Patient/>}/>\n+                    <Route exact path='/PatientCard/:id' element = {<Patient/>}/>\n                 </Routes>\n             </Fragment>\n         </Router>",
      "@@ -6,9 +6,12 @@ import viewlist_filled from '../../images/viewlist_filled.png'\n import viewlist_unfilled from '../../images/viewlist_unfilled.png'\n import dataset_filled from '../../images/dataset_filled.png'\n import dataset_unfilled from '../../images/dataset_unfilled.png'\n+import { useNavigate  } from \"react-router-dom\"\n import { IconBase } from 'react-icons'\n \n const Home = () => {\n+  const navigate = useNavigate ();\n+\n   const loadPatients = () => {\n     fetch(\"/patients\").then((res) => res.json()).then((data) => setData(data.message));\n   }\n@@ -19,108 +22,12 @@ const Home = () => {\n       .then((data) => setData(data.message));\n   }, []);\n \n-  const [tipoVista, setVista] = useState(\"Grid\");\n-  const [patients, setPatients] = useState([\n-    {\n-      pacienteID: 1,\n-      nombre: \"Carlo Angel\",\n-      apellidoP: \"Lujan\",\n-      apellidoM: \"Garcia\",\n-      fechaNac: \"29/05/2001\",\n-      sexo: \"H\",\n-      escolaridad: \"Licenciatura\",\n-      discapacidades: \"Sin registros\",\n-      quejaMemoria: false,\n-      hipoacusia_severa: false,\n-      contactoEmergencia: 3322512297,\n-      imagenPerfil: \"https://pbs.twimg.com/profile_images/1098106430647762944/N-Fx6SOu_400x400.png\",\n-    },\n-    {\n-      pacienteID: 2,\n-      nombre: \"Adrian\",\n-      apellidoP: \"Becerra\",\n-      apellidoM: \"Meza\",\n-      fechaNac: \"28-06-2002\",\n-      sexo: \"H\",\n-      escolaridad: \"Licenciatura\",\n-      discapacidades: \"Sin registros\",\n-      quejaMemoria: true,\n-      hipoacusia_severa: false,\n-      contactoEmergencia: 3322512267,\n-      imagenPerfil: \"https://pbs.twimg.com/profile_images/1217213036018262017/i2fi91Xd_400x400.jpg\"\n-    },\n-    {\n-      pacienteID: 3,\n-      nombre: \"Rauw\",\n-      apellidoP: \"Alejandro\",\n-      apellidoM: \"Debuentura\",\n-      fechaNac: \"26-05-1993\",\n-      sexo: \"H\",\n-      escolaridad: \"Kinder\",\n-      discapacidades: \"Me gusta todo de ti\",\n-      quejaMemoria: true,\n-      hipoacusia_severa: true,\n-      contactoEmergencia: 3322456797,\n-      imagenPerfil: \"https://i1.sndcdn.com/artworks-LXajbAY7hzS9R4y6-ijW2Hg-t500x500.jpg\",\n-    },\n-    {\n-      pacienteID: 4,\n-      nombre: \"Dolores\",\n-      apellidoP: \"Leal\",\n-      apellidoM: \"Buenfil\",\n-      fechaNac: \"16/01/1930\",\n-      sexo: \"M\",\n-      escolaridad: \"Licenciatura\",\n-      discapacidades: \"Silla de ruedas\",\n-      quejaMemoria: true,\n-      hipoacusia_severa: true,\n-      contactoEmergencia: 3311222297,\n-      imagenPerfil: \"https://i.pinimg.com/474x/06/28/60/0628609683c9242c15b227ac5fcaa193.jpg\",\n-    },\n-    {\n-      pacienteID: 5,\n-      nombre: \"Marta\",\n-      apellidoP: \"Sasueta\",\n-      apellidoM: \"de Cosio\",\n-      fechaNac: \"18/06/1900\",\n-      sexo: \"M\",\n-      escolaridad: \"Doctorado\",\n-      discapacidades: \"Sin registros\",\n-      quejaMemoria: false,\n-      hipoacusia_severa: false,\n-      contactoEmergencia: 3350002356,\n-      imagenPerfil: \"https://pbs.twimg.com/profile_images/1221944116080250880/tJN0Hbqy_400x400.jpg\",\n-    },\n-    {\n-      pacienteID: 6,\n-      nombre: \"Porfirio\",\n-      apellidoP: \"Lopez\",\n-      apellidoM: \"Juanetes\",\n-      fechaNac: \"18/04/1923\",\n-      sexo: \"H\",\n-      escolaridad: \"Doctorado\",\n-      discapacidades: \"Sin registros\",\n-      quejaMemoria: false,\n-      hipoacusia_severa: false,\n-      contactoEmergencia: 3301020397,\n-      imagenPerfil: \"https://d3t3ozftmdmh3i.cloudfront.net/production/podcast_uploaded_episode/2276977/2276977-1568299280612-d9c420dea5897.jpg\",\n-    },\n-    {\n-      pacienteID: 7,\n-      nombre: \"Florentino\",\n-      apellidoP: \"Guitierrez\",\n-      apellidoM: \"Pe\u00f1a\",\n-      fechaNac: \"09/02/1945\",\n-      sexo: \"H\",\n-      escolaridad: \"Licenciatura\",\n-      discapacidades: \"No ve bien\",\n-      quejaMemoria: false,\n-      hipoacusia_severa: true,\n-      contactoEmergencia: 3304062297,\n-      imagenPerfil: \"https://mp.reshift.nl/zoom/6951241E3D5C7CE44B39E81B43D74FBB-old-man.jpg?w=450\",\n-    },\n-  ]);\n+  const OpenPatientCard = (currentPatient) => {\n+    //allow to naviigate through the routes\n+    navigate('/PatientCard/'+ currentPatient.pacienteID)\n+  }\n \n+  const [tipoVista, setVista] = useState(\"Grid\");\n   //loadPatients(); En caso de que quieran drenar la memoria activenlo, pero se activa un listener para nuevos datos\n   // Es decir que nunca mas necesitaria refrescar\n \n@@ -136,13 +43,15 @@ const Home = () => {\n               {!datos ? \"loading...\" : \n               datos.map((currentPatient) => {\n                 return(\n-                  <BubbleCard\n-                    patientObj={currentPatient}\n-                    key={currentPatient.pacienteID}\n-                    name={currentPatient.nombre}\n-                    img={currentPatient.imagenPerfil}\n-                    role={currentPatient.escolaridad}\n-                  />\n+                  <div onClick={() => OpenPatientCard(currentPatient)} style={{cursor: 'pointer'}}>\n+                    <BubbleCard\n+                      patientObj={currentPatient}\n+                      key={currentPatient.pacienteID}\n+                      name={currentPatient.nombre}\n+                      img={currentPatient.imagenPerfil}\n+                      role={currentPatient.escolaridad}\n+                    />\n+                  </div>\n                 );\n               })}\n             </div>\n@@ -176,13 +85,15 @@ const Home = () => {\n                   {\n                   datos.map((currentPatient) => {\n                     return(\n-                      <ListCard\n-                        patientObj={currentPatient}\n-                        key={currentPatient.pacienteID}\n-                        name={currentPatient.nombre}\n-                        img={currentPatient.imagenPerfil}\n-                        role={currentPatient.escolaridad}\n-                      />\n+                      <tr className='list-item' onClick={() => OpenPatientCard(currentPatient)} style={{cursor: 'pointer'}}>\n+                        <ListCard\n+                          patientObj={currentPatient}\n+                          key={currentPatient.pacienteID}\n+                          name={currentPatient.nombre}\n+                          img={currentPatient.imagenPerfil}\n+                          role={currentPatient.escolaridad}\n+                        />\n+                      </tr>\n                     );\n                   })} \n                 </tbody>",
      "@@ -1,53 +1,92 @@\n-import React from 'react'\n+import React, { useEffect } from 'react'\n import {useState} from 'react'\n import OldMan from '../../layout/images/OldManPic.jpg'\n import './Patient.css' \n import  TestButton  from '../../TestButton'\n import TestGraph from '../../graph/TestGraph'\n import { Bar } from \"react-chartjs-2\";\n import ListCardTest from './ListCardTest'\n+import { useParams } from \"react-router-dom\";\n \n const HomeLink = \"/\";\n const examenes = ([\n     {\n-      ExamenId: 1,\n-      examen: \"Moca\",\n-      resultados: \"90/100\",\n-      fecha: \"22-08-2021\",\n-      notas: \"Sin notas\",\n+        ExamenId: 1,\n+        examen: \"Moca\",\n+        resultados: \"90/100\",\n+        fecha: \"22-08-2021\",\n+        notas: \"Sin notas\",\n     },\n     {\n         ExamenId: 2,\n         examen: \"Act. Basicas\",\n         resultados: \"90/100\",\n         fecha: \"22-08-2021\",\n         notas: \"Sin notas\",\n-      },\n-      {\n+    },\n+    {\n         ExamenId: 3,\n         examen: \"Act. Instrumentales\",\n         resultados: \"90/100\",\n         fecha: \"22-08-2021\",\n         notas: \"Sin notas\",\n-      },\n-  ]);\n+    },\n+]);\n+\n+const getEdad = (dateString) => {\n+    let hoy = new Date()\n+    let fechaNacimiento = new Date(dateString)\n+    let edad = hoy.getFullYear() - fechaNacimiento.getFullYear()\n+    let diferenciaMeses = hoy.getMonth() - fechaNacimiento.getMonth()\n+    if (\n+      diferenciaMeses < 0 ||\n+      (diferenciaMeses === 0 && hoy.getDate() < fechaNacimiento.getDate())\n+    ) {\n+      edad--\n+    }\n+    return edad\n+}\n \n+/*\n+    El paciente espera recibir los siguientes parametros \n+    para rellenar su informacion en el perfil\n+    pacienteID: number,\n+    nombre: string,\n+    apellidoP: string,\n+    apellidoM: string,\n+    fechaNac: string,\n+    sexo: string,\n+    escolaridad: string,\n+    discapacidades: string,\n+    quejaMemoria: Boolean,\n+    hipoacusia_severa: Boolean,\n+    contactoEmergencia: number,\n+    imagenPerfil: string,\n+*/\n const Patient =() =>{\n-    \n-      \n+    const { id } = useParams();\n+    const [datos, setData] = React.useState(null);\n+    React.useEffect(() => {\n+        fetch('/patient/'+id)\n+          .then((res) => res.json())\n+          .then((data) => setData(data.message));\n+    }, [id]);\n     return(\n+        !datos ? <h1>Loading</h1>:\n         <div className='Card'>\n             <PatientInfo \n-                image = {OldMan}\n-                name = \"Adrian Becerra\"\n-                age = \"89\"\n-                sex = \"Masculino\"/> \n+                image = {datos[0].imagenPerfil}\n+                name = {datos[0].nombre}\n+                age = {getEdad(datos[0].fechaNac)}\n+                sex = {datos[0].sexo}\n+            /> \n             <PatientRegistry\n-                emergencyC = \"333-222-2200\"\n-                school = \"Secundaria\"\n-                memory = \"Si\"\n-                difficulties = \"No\"\n-                hipoacusia = \"No\"/>\n+                emergencyC = {datos[0].contactoEmergencia}\n+                school = {datos[0].escolaridad}\n+                memory = {datos[0].quejaMemoria ? \"Si\" : \"No\"}\n+                difficulties = {datos[0].discapacidades}\n+                hipoacusia = {datos[0].hipoacusia_severa ? \"Si\" : \"No\"} \n+            />\n             <Details\n                 /*fecha1 = \"22-09-2020\"\n                 fecha2 = \"22-03-2021\"\n@@ -58,27 +97,24 @@ const Patient =() =>{\n                 data3 = \"27\"\n                 data4 = \"25\"*/\n                 />\n-        </div>\n-        \n+        </div>  \n     )\n }\n \n-\n-\n-  const PatientInfo =(props) =>{\n+const PatientInfo =(props) =>{\n     return(\n-    <div className='CardInfo'>\n-        <div className='CardBody'>\n-            <img className='PatientImg' src={props.image} alt='PatientPP'/>\n-            <br></br><br></br>\n-            <h1 className='PatientName'>{props.name}</h1>\n-            <br></br>\n-            <h2 className='PatientAge'>Edad: {props.age}</h2>\n-            <br></br>\n-            <h2 className='PatientSex'>Sexo: {props.sex}</h2>\n-            <br></br><br></br>\n+        <div className='CardInfo'>\n+            <div className='CardBody'>\n+                <img className='PatientImg' src={props.image} alt='PatientPP'/>\n+                <br></br><br></br>\n+                <h1 className='PatientName'>{props.name}</h1>\n+                <br></br>\n+                <h2 className='PatientAge'>Edad: {props.age}</h2>\n+                <br></br>\n+                <h2 className='PatientSex'>Sexo: {props.sex}</h2>\n+                <br></br><br></br>\n+            </div>\n         </div>\n-    </div>\n     )\n }\n \n@@ -161,12 +197,12 @@ const Details =(props) =>{\n                 examenes.map((currentTest) => {\n                 return(\n                     <ListCardTest\n-                    testObj={currentTest}\n-                    key={currentTest.ExamenId}\n-                    examen={currentTest.examen}\n-                    resultados={currentTest.resultados}\n-                    fecha={currentTest.resultados}\n-                    notas={currentTest.notas}\n+                        testObj={currentTest}\n+                        key={currentTest.ExamenId}\n+                        examen={currentTest.examen}\n+                        resultados={currentTest.resultados}\n+                        fecha={currentTest.resultados}\n+                        notas={currentTest.notas}\n                     />\n                 );\n                 })} ",
      "@@ -1,8 +1,8 @@\n import React from 'react'\n \n-const ListCard = (props) => {\n+const ListCard = (props, {patientObj}) => {\n   return (\n-    <tr className='list-item'>\n+      <>\n         <td>\n             <div className=\"thumb-lg2\">\n                 <img\n@@ -22,7 +22,7 @@ const ListCard = (props) => {\n         <td>{props.patientObj.quejaMemoria ? \"Si\" : \"No\"}</td>\n         <td>{props.patientObj.hipoacusia_severa ? \"Si\" : \"No\"}</td>\n         <td>{props.patientObj.contactoEmergencia}</td>\n-    </tr>\n+      </>\n   )\n }\n "
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-04-22T14:51:08Z",
    "message": "Merge pull request #6 from CarloLj/login/register\n\nminor design changes",
    "additions": [
      "@@ -61,7 +61,7 @@ const Login = () => {\n                         <i className=\"bi bi-eye\" id=\"togglePassword\" onClick={showPassword}/>\n                         <input id = \"password\" placeholder='Contrase\u00f1a' type='password' name = 'password' value={password} onChange = {onChange} required/>\n                     </div>\n-                    <p style={{margin: '15px', cursor: 'pointer',textDecoration: 'underline'}} onClick = {() => navigate('/register', { replace: true })}>\u00bfNo tienes cuenta? Registrate</p>\n+                    <p style={{margin: '15px', cursor: 'pointer',textDecoration: 'underline'}} onClick = {() => navigate('/register')}>\u00bfNo tienes cuenta? Registrate</p>\n                     <input type=\"submit\" value = \"Iniciar Sesi\u00f3n\"/>\n                 </form>\n             </div>",
      "@@ -103,7 +103,7 @@ const Register = props => {\n                         <br/>\n                     <input type=\"submit\" value = \"Registarse\"/>\n                 </form>\n-                <button style = {{marginBottom:'5%'}} className='btn-back' onClick={() => navigate('/', { replace: true })}> Atr\u00e1s</button>\n+                <button style = {{marginBottom:'5%'}} className='btn-back' onClick={() => navigate('/')}> Atr\u00e1s</button>\n             </div>\n             <div>\n                 <center>",
      "@@ -99,7 +99,7 @@\n   #togglePassword2,\n   #togglePassword{\n     position: relative;\n-    left: 90%;\n+    left: 85%;\n     top: 10px;\n     padding: 10px;\n     cursor: pointer;"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-04-22T14:49:53Z",
    "message": "minir design changes",
    "additions": [
      "@@ -61,7 +61,7 @@ const Login = () => {\n                         <i className=\"bi bi-eye\" id=\"togglePassword\" onClick={showPassword}/>\n                         <input id = \"password\" placeholder='Contrase\u00f1a' type='password' name = 'password' value={password} onChange = {onChange} required/>\n                     </div>\n-                    <p style={{margin: '15px', cursor: 'pointer',textDecoration: 'underline'}} onClick = {() => navigate('/register', { replace: true })}>\u00bfNo tienes cuenta? Registrate</p>\n+                    <p style={{margin: '15px', cursor: 'pointer',textDecoration: 'underline'}} onClick = {() => navigate('/register')}>\u00bfNo tienes cuenta? Registrate</p>\n                     <input type=\"submit\" value = \"Iniciar Sesi\u00f3n\"/>\n                 </form>\n             </div>",
      "@@ -103,7 +103,7 @@ const Register = props => {\n                         <br/>\n                     <input type=\"submit\" value = \"Registarse\"/>\n                 </form>\n-                <button style = {{marginBottom:'5%'}} className='btn-back' onClick={() => navigate('/', { replace: true })}> Atr\u00e1s</button>\n+                <button style = {{marginBottom:'5%'}} className='btn-back' onClick={() => navigate('/')}> Atr\u00e1s</button>\n             </div>\n             <div>\n                 <center>",
      "@@ -99,7 +99,7 @@\n   #togglePassword2,\n   #togglePassword{\n     position: relative;\n-    left: 90%;\n+    left: 85%;\n     top: 10px;\n     padding: 10px;\n     cursor: pointer;"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-04-21T14:47:24Z",
    "message": "fixed package-lock",
    "additions": []
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-04-21T14:44:42Z",
    "message": "Delete package-lock.json",
    "additions": []
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-04-21T14:40:53Z",
    "message": "separation of lastname inputs",
    "additions": [
      "@@ -30,164 +30,4 @@ body{\n \n .App-link {\n   color: #61dafb;\n-}\n-\n-.form-group {\n-  margin: 1.2rem 0;\n-}\n-\n-.form-group input {\n-  margin: 0.2rem 0;\n-}\n-\n-input[type='text'],\n-input[type='email'],\n-input[type='password'],\n-input[type='date'],\n-input,\n-select,\n-textarea {\n-  display: block;\n-  width: 90%;\n-  font-size: 1.2rem;\n-  border: none;\n-  border-radius: 8px;\n-  background-color: #EFF0F7;\n-  padding: 15px;\n-  margin: 15px;\n-  font-size: 18px;\n-  outline: none;\n-}\n-\n-select{\n-  cursor: pointer;\n-}\n-\n-input[type='submit'] {\n-  font: inherit;\n-  padding: 10px;\n-  background-color: #003699;\n-  color: white;\n-  border-radius: 8px;\n-  border: none;\n-  margin: 15px;\n-  font-size: 18px;\n-  cursor: pointer;\n-  width: fit-content;\n-}\n-\n-input[type='submit']:active,\n-.btn-back:active{\n-  transform: scale(0.85);\n-  box-shadow: 3px 2px 25px 1px rgba(0,0,0,0.25);\n-}\n-\n-.btn-back{\n-  display: inline-block;\n-  font-size: 18px;\n-  font-weight: bold;\n-  color: #333;\n-  padding: 10px;\n-  font-size: 1rem;\n-  border: none;\n-  cursor: pointer;\n-  outline: none;\n-  border-radius: 8px;\n-  margin-left: 15px;\n-}\n-\n-.geriatrik{\n-  font-size: 72px;\n-  font-weight: bold;\n-  margin-left: 15px;\n-}\n-\n-.auth-header{\n-  font-size: 30px;\n-  margin-left: 15px;\n-}\n-\n-.form-container {\n-  max-width: 600px;\n-  margin-left: 25%;\n-  margin-top: 15%;\n-  overflow: hidden;\n-  padding: 0 2rem;\n-  z-index: 1;\n-}\n-\n-.grid-2 {\n-  display: grid;\n-  grid-template-columns: repeat(2, 1fr);\n-  grid-gap: 2rem;\n-}\n-\n-.login-img{\n-  float: right;\n-  overflow: hidden;\n-  max-width: 600px;\n-  margin-top: 15%;\n-  margin-right: 25%;\n-}\n-\n-#togglePassword2,\n-#togglePassword{\n-  position: relative;\n-  left: 90%;\n-  top: 10px;\n-  padding: 10px;\n-  cursor: pointer;\n-}\n-\n-#password2,\n-#password{\n-  margin-left: 15px;\n-  margin-top: -25px;\n-}\n-\n-@keyframes App-logo-spin {\n-  from {\n-    transform: rotate(0deg);\n-  }\n-  to {\n-    transform: rotate(360deg);\n-  }\n-}\n-\n-@media (max-width: 1200px) {\n-  .login-img{\n-    width: 400px;\n-    margin-top: 40% ;\n-  }\n-\n-  input[type='text'],\n-  input[type='email'],\n-  input[type='password'],\n-  input[type='date'],\n-  select,\n-  textarea {\n-    width: 90%;\n-  }\n-\n-  .form-container {\n-    margin-top: 25%;\n-  }\n-}\n-\n-@media (max-width: 1100px) {\n-  .login-img{\n-    display: none;\n-  }\n-\n-  .form-container {\n-    margin: 5%;\n-  }\n-\n-  .grid-2 {\n-    display: block;\n-  }\n-\n-  .form-container {\n-    margin-right: 8%;\n-  }\n }\n\\ No newline at end of file",
      "@@ -1,6 +1,8 @@\n import React, {useState} from 'react'\n import { useNavigate  } from \"react-router-dom\"\n import login from '../layout/images/login.PNG'\n+import './auth.css'\n+\n const Login = () => {\n \n     const navigate = useNavigate ();",
      "@@ -1,6 +1,7 @@\n import React, {useState} from 'react'\n import { useNavigate  } from \"react-router-dom\"\n import login from '../layout/images/login.PNG'\n+import './auth.css'\n \n const Register = props => {\n     \n@@ -10,7 +11,8 @@ const Register = props => {\n     //user register fields\n     const [user,setUser] = useState({\n         name: '',\n-        lname: '',\n+        lastnameP: '',\n+        lastnameM: '',\n         date: '',\n         type: '',\n         sex: '',\n@@ -20,7 +22,7 @@ const Register = props => {\n         password2: ''\n     });\n \n-    const {name,lname,date,cedula,email,password,password2} = user;\n+    const {name,lastnameP,lastnameM,date,cedula,email,password,password2} = user;\n \n     //copies user data and changes the target of the onchange\n     const onChange = e => setUser({...user, [e.target.name]:e.target.value});\n@@ -73,7 +75,7 @@ const Register = props => {\n                         <div className='grid-2'>\n                             <div>\n                                 <input placeholder='Nombre' type='text' name = 'name' value={name} onChange = {onChange} required/>\n-                                <input placeholder='Apellido' type='text' name = 'lname' value={lname} onChange = {onChange} required/>\n+                                <input placeholder='Apellido Paterno' type='text' name = 'lastnameP' value={lastnameP} onChange = {onChange} required/>\n                                 <input placeholder='Fecha de nacimiento' type='date' name = 'date' value={date} onChange = {onChange} required/>\n                                 <select id=\"empleados\" name='type' onChange = {onChange}>\n                                     <option value=\"M\u00e9dic@\">M\u00e9dic@</option>\n@@ -86,6 +88,7 @@ const Register = props => {\n                             </div>\n                             <div>\n                                 <input placeholder='C\u00e9dula' type='text' name = 'cedula' value={cedula} onChange = {onChange} required/>\n+                                <input placeholder='Apellido Materno' type='text' name = 'lastnameM' value={lastnameM} onChange = {onChange} required/>\n                                 <input placeholder='Correo Electr\u00f3nico' type='email' name = 'email' value={email} onChange = {onChange} required/>\n                                 <div>\n                                     <i className=\"bi bi-eye\" id=\"togglePassword\" onClick={showPassword}/>",
      "@@ -0,0 +1,159 @@\n+.form-group {\n+    margin: 1.2rem 0;\n+  }\n+  \n+  .form-group input {\n+    margin: 0.2rem 0;\n+  }\n+  \n+  input[type='text'],\n+  input[type='email'],\n+  input[type='password'],\n+  input[type='date'],\n+  input,\n+  select,\n+  textarea {\n+    display: block;\n+    width: 90%;\n+    font-size: 1.2rem;\n+    border: none;\n+    border-radius: 8px;\n+    background-color: #EFF0F7;\n+    padding: 15px;\n+    margin: 15px;\n+    font-size: 18px;\n+    outline: none;\n+  }\n+  \n+  select{\n+    cursor: pointer;\n+  }\n+  \n+  input[type='submit'] {\n+    font: inherit;\n+    padding: 10px;\n+    background-color: #003699;\n+    color: white;\n+    border-radius: 8px;\n+    border: none;\n+    margin: 15px;\n+    font-size: 18px;\n+    cursor: pointer;\n+    width: fit-content;\n+  }\n+  \n+  input[type='submit']:active,\n+  .btn-back:active{\n+    transform: scale(0.85);\n+    box-shadow: 3px 2px 25px 1px rgba(0,0,0,0.25);\n+  }\n+  \n+  .btn-back{\n+    display: inline-block;\n+    font-size: 18px;\n+    font-weight: bold;\n+    color: #333;\n+    padding: 10px;\n+    font-size: 1rem;\n+    border: none;\n+    cursor: pointer;\n+    outline: none;\n+    border-radius: 8px;\n+    margin-left: 15px;\n+  }\n+  \n+  .geriatrik{\n+    font-size: 72px;\n+    font-weight: bold;\n+    margin-left: 15px;\n+  }\n+  \n+  .auth-header{\n+    font-size: 30px;\n+    margin-left: 15px;\n+  }\n+  \n+  .form-container {\n+    max-width: 600px;\n+    margin-left: 25%;\n+    margin-top: 15%;\n+    overflow: hidden;\n+    padding: 0 2rem;\n+    z-index: 1;\n+  }\n+  \n+  .grid-2 {\n+    display: grid;\n+    grid-template-columns: repeat(2, 1fr);\n+    grid-gap: 2rem;\n+  }\n+  \n+  .login-img{\n+    float: right;\n+    overflow: hidden;\n+    max-width: 600px;\n+    margin-top: 15%;\n+    margin-right: 25%;\n+  }\n+  \n+  #togglePassword2,\n+  #togglePassword{\n+    position: relative;\n+    left: 90%;\n+    top: 10px;\n+    padding: 10px;\n+    cursor: pointer;\n+  }\n+  \n+  #password2,\n+  #password{\n+    margin-left: 15px;\n+    margin-top: -25px;\n+  }\n+  \n+  @keyframes App-logo-spin {\n+    from {\n+      transform: rotate(0deg);\n+    }\n+    to {\n+      transform: rotate(360deg);\n+    }\n+  }\n+  \n+  @media (max-width: 1200px) {\n+    .login-img{\n+      width: 400px;\n+      margin-top: 40% ;\n+    }\n+  \n+    input[type='text'],\n+    input[type='email'],\n+    input[type='password'],\n+    input[type='date'],\n+    select,\n+    textarea {\n+      width: 90%;\n+    }\n+  \n+    .form-container {\n+      margin-top: 25%;\n+    }\n+  }\n+  \n+  @media (max-width: 1100px) {\n+    .login-img{\n+      display: none;\n+    }\n+  \n+    .form-container {\n+      margin: 5%;\n+    }\n+  \n+    .grid-2 {\n+      display: block;\n+    }\n+  \n+    .form-container {\n+      margin-right: 8%;\n+    }\n+  }\n\\ No newline at end of file"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-04-21T04:01:37Z",
    "message": "register layout changes",
    "additions": [
      "@@ -3,6 +3,7 @@\n   <head>\n     <meta charset=\"utf-8\" />\n     <link rel=\"icon\" href=\"%PUBLIC_URL%/favicon.ico\" />\n+    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css\" />\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n     <meta name=\"theme-color\" content=\"#000000\" />\n     <meta",
      "@@ -59,6 +59,10 @@ textarea {\n   outline: none;\n }\n \n+select{\n+  cursor: pointer;\n+}\n+\n input[type='submit'] {\n   font: inherit;\n   padding: 10px;\n@@ -122,10 +126,25 @@ input[type='submit']:active,\n   float: right;\n   overflow: hidden;\n   max-width: 600px;\n-  margin-top: 10%;\n+  margin-top: 15%;\n   margin-right: 25%;\n }\n \n+#togglePassword2,\n+#togglePassword{\n+  position: relative;\n+  left: 90%;\n+  top: 10px;\n+  padding: 10px;\n+  cursor: pointer;\n+}\n+\n+#password2,\n+#password{\n+  margin-left: 15px;\n+  margin-top: -25px;\n+}\n+\n @keyframes App-logo-spin {\n   from {\n     transform: rotate(0deg);\n@@ -171,4 +190,4 @@ input[type='submit']:active,\n   .form-container {\n     margin-right: 8%;\n   }\n-}\n+}\n\\ No newline at end of file",
      "@@ -1,4 +1,4 @@\n-import React, {useState, useEffect} from 'react'\n+import React, {useState} from 'react'\n import { useNavigate  } from \"react-router-dom\"\n import login from '../layout/images/login.PNG'\n const Login = () => {\n@@ -23,15 +23,42 @@ const Login = () => {\n             //login\n         }*/\n     }\n-    \n+\n+    /*const togglePassword = document.querySelector('#togglePassword');\n+    const passwordInput = document.querySelector('#password');\n+\n+    togglePassword.addEventListener('click', function (e) {\n+        // toggle the type attribute\n+        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';\n+        passwordInput.setAttribute('type', type);\n+        // toggle the eye / eye slash icon\n+        this.classList.toggle('bi-eye-slash');\n+    });*/\n+\n+    const showPassword = () =>{\n+        const toggle = document.getElementById('togglePassword');\n+        const password = document.getElementById('password');\n+\n+        if(toggle.className === 'bi-eye'){\n+            toggle.className = 'bi-eye-slash' \n+            password.type = 'text';\n+        }else{\n+            toggle.className = 'bi-eye';\n+            password.type = 'password';\n+        } \n+    }\n+\n     return (\n         <div className='grid-2'>\n             <div className='form-container'>\n                 <h1 className='geriatrik'>GERIATRIK</h1>\n                 <h2 className='auth-header'>Iniciar Sesi\u00f3n</h2>\n                 <form onSubmit={onSubmit}>\n                     <input placeholder='Correo Electr\u00f3nico' type='email' name = 'email' value={email} onChange = {onChange} required/>\n-                    <input placeholder='Contrase\u00f1a' type='password' name = 'password' value={password} onChange = {onChange} required/>\n+                    <div>\n+                        <i className=\"bi bi-eye\" id=\"togglePassword\" onClick={showPassword}/>\n+                        <input id = \"password\" placeholder='Contrase\u00f1a' type='password' name = 'password' value={password} onChange = {onChange} required/>\n+                    </div>\n                     <p style={{margin: '15px', cursor: 'pointer',textDecoration: 'underline'}} onClick = {() => navigate('/register', { replace: true })}>\u00bfNo tienes cuenta? Registrate</p>\n                     <input type=\"submit\" value = \"Iniciar Sesi\u00f3n\"/>\n                 </form>",
      "@@ -20,14 +20,14 @@ const Register = props => {\n         password2: ''\n     });\n \n-    const {name,lname,date,type,cedula,sex,email,password,password2} = user;\n+    const {name,lname,date,cedula,email,password,password2} = user;\n \n     //copies user data and changes the target of the onchange\n     const onChange = e => setUser({...user, [e.target.name]:e.target.value});\n \n     const onSubmit = e => {\n         e.preventDefault();\n-\n+        console.log(user);\n         if(name === '' || email === '' || password === ''){\n             //missing info\n         }else if (password !== password2){\n@@ -38,29 +38,66 @@ const Register = props => {\n         }\n     }\n     \n+    const showPassword = () =>{\n+        const toggle = document.getElementById('togglePassword');\n+        const password = document.getElementById('password');\n+\n+        if(toggle.className === 'bi-eye'){\n+            toggle.className = 'bi-eye-slash' \n+            password.type = 'text';\n+        }else{\n+            toggle.className = 'bi-eye';\n+            password.type = 'password';\n+        } \n+    }\n+\n+    const showPassword2 = () =>{\n+        const toggle2 = document.getElementById('togglePassword2');\n+        const password2 = document.getElementById('password2');\n+\n+        if(toggle2.className === 'bi-eye'){\n+            toggle2.className = 'bi-eye-slash' \n+            password2.type = 'text';\n+        }else{\n+            toggle2.className = 'bi-eye';\n+            password2.type = 'password';\n+        } \n+    }\n+\n     return (\n         <div className='grid-2'>\n             <div className='form-container'>\n                 <h1 className='geriatrik'>GERIATRIK</h1>\n                 <h2 className='auth-header'>Registrate</h2>\n-                <form onSubmit={onSubmit}>\n-                    <input placeholder='Nombre' type='text' name = 'name' value={name} onChange = {onChange} required/>\n-                    <input placeholder='Apellido' type='text' name = 'lname' value={lname} onChange = {onChange} required/>\n-                    <input placeholder='Fecha de nacimiento' type='date' name = 'date' value={date} onChange = {onChange} required/>\n-                    <input style={{width:'35%',display:'inline-block'}} placeholder='Tipo de empleado' list = 'empleados' name = 'type' type='text'/>\n-                    <datalist id=\"empleados\">\n-                        <option value=\"M\u00e9dic@\"/>\n-                        <option value=\"Enfermer@\"/>\n-                    </datalist>\n-                    <input style={{width:'35%', display:'inline-block',margin:'2%'}} placeholder='Sexo' list = 'sexos' name = 'sex' type='text'/>\n-                    <datalist id=\"sexos\">\n-                        <option value=\"Masculino\"/>\n-                        <option value=\"Femenino\"/>\n-                    </datalist>\n-                    <input placeholder='C\u00e9dula' type='text' name = 'cedula' value={cedula} onChange = {onChange} required/>\n-                    <input placeholder='Correo Electr\u00f3nico' type='email' name = 'email' value={email} onChange = {onChange} required/>\n-                    <input placeholder='Contrase\u00f1a' type='password' name = 'password' value={password} onChange = {onChange} required minLength={6}/>\n-                    <input placeholder='Confirmar Contrase\u00f1a' type='password' name = 'password2' value={password2} onChange = {onChange} required minLength={6}/>\n+                    <form onSubmit={onSubmit}>\n+                        <div className='grid-2'>\n+                            <div>\n+                                <input placeholder='Nombre' type='text' name = 'name' value={name} onChange = {onChange} required/>\n+                                <input placeholder='Apellido' type='text' name = 'lname' value={lname} onChange = {onChange} required/>\n+                                <input placeholder='Fecha de nacimiento' type='date' name = 'date' value={date} onChange = {onChange} required/>\n+                                <select id=\"empleados\" name='type' onChange = {onChange}>\n+                                    <option value=\"M\u00e9dic@\">M\u00e9dic@</option>\n+                                    <option value=\"Enfermer@\">Enfermer@</option>\n+                                </select >\n+                                <select  id=\"sexos\" name='sex' onChange = {onChange}>\n+                                    <option value=\"Masculino\">Masculino</option>\n+                                    <option value=\"Femenino\">Femenino</option>\n+                                </select >\n+                            </div>\n+                            <div>\n+                                <input placeholder='C\u00e9dula' type='text' name = 'cedula' value={cedula} onChange = {onChange} required/>\n+                                <input placeholder='Correo Electr\u00f3nico' type='email' name = 'email' value={email} onChange = {onChange} required/>\n+                                <div>\n+                                    <i className=\"bi bi-eye\" id=\"togglePassword\" onClick={showPassword}/>\n+                                    <input id = \"password\" placeholder='Contrase\u00f1a' type='password' name = 'password' value={password} onChange = {onChange} required/>\n+                                </div>\n+                                <div>\n+                                    <i className=\"bi bi-eye\" id=\"togglePassword2\" onClick={showPassword2}/>\n+                                    <input id = \"password2\" placeholder='Confirmar Contrase\u00f1a' type='password' name = 'password2' value={password2} onChange = {onChange} required/>\n+                                </div>\n+                            </div>\n+                        </div>\n+                        <br/>\n                     <input type=\"submit\" value = \"Registarse\"/>\n                 </form>\n                 <button style = {{marginBottom:'5%'}} className='btn-back' onClick={() => navigate('/', { replace: true })}> Atr\u00e1s</button>"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-04-21T00:29:16Z",
    "message": "added inputs to register form",
    "additions": [
      "@@ -44,6 +44,7 @@ input[type='text'],\n input[type='email'],\n input[type='password'],\n input[type='date'],\n+input,\n select,\n textarea {\n   display: block;\n@@ -68,6 +69,7 @@ input[type='submit'] {\n   margin: 15px;\n   font-size: 18px;\n   cursor: pointer;\n+  width: fit-content;\n }\n \n input[type='submit']:active,\n@@ -159,10 +161,7 @@ input[type='submit']:active,\n   }\n \n   .form-container {\n-    margin-top: 5%;\n-    margin-left: 5%;\n-    margin-right: 5%;\n-\n+    margin: 5%;\n   }\n \n   .grid-2 {",
      "@@ -10,12 +10,17 @@ const Register = props => {\n     //user register fields\n     const [user,setUser] = useState({\n         name: '',\n+        lname: '',\n+        date: '',\n+        type: '',\n+        sex: '',\n+        cedula: '',\n         email: '',\n         password: '',\n         password2: ''\n     });\n \n-    const {name,email,password,password2} = user;\n+    const {name,lname,date,type,cedula,sex,email,password,password2} = user;\n \n     //copies user data and changes the target of the onchange\n     const onChange = e => setUser({...user, [e.target.name]:e.target.value});\n@@ -40,13 +45,25 @@ const Register = props => {\n                 <h2 className='auth-header'>Registrate</h2>\n                 <form onSubmit={onSubmit}>\n                     <input placeholder='Nombre' type='text' name = 'name' value={name} onChange = {onChange} required/>\n+                    <input placeholder='Apellido' type='text' name = 'lname' value={lname} onChange = {onChange} required/>\n+                    <input placeholder='Fecha de nacimiento' type='date' name = 'date' value={date} onChange = {onChange} required/>\n+                    <input style={{width:'35%',display:'inline-block'}} placeholder='Tipo de empleado' list = 'empleados' name = 'type' type='text'/>\n+                    <datalist id=\"empleados\">\n+                        <option value=\"M\u00e9dic@\"/>\n+                        <option value=\"Enfermer@\"/>\n+                    </datalist>\n+                    <input style={{width:'35%', display:'inline-block',margin:'2%'}} placeholder='Sexo' list = 'sexos' name = 'sex' type='text'/>\n+                    <datalist id=\"sexos\">\n+                        <option value=\"Masculino\"/>\n+                        <option value=\"Femenino\"/>\n+                    </datalist>\n+                    <input placeholder='C\u00e9dula' type='text' name = 'cedula' value={cedula} onChange = {onChange} required/>\n                     <input placeholder='Correo Electr\u00f3nico' type='email' name = 'email' value={email} onChange = {onChange} required/>\n                     <input placeholder='Contrase\u00f1a' type='password' name = 'password' value={password} onChange = {onChange} required minLength={6}/>\n                     <input placeholder='Confirmar Contrase\u00f1a' type='password' name = 'password2' value={password2} onChange = {onChange} required minLength={6}/>\n                     <input type=\"submit\" value = \"Registarse\"/>\n                 </form>\n-                <button className='btn-back' onClick={() => navigate('/', { replace: true })}> Atr\u00e1s</button>\n-\n+                <button style = {{marginBottom:'5%'}} className='btn-back' onClick={() => navigate('/', { replace: true })}> Atr\u00e1s</button>\n             </div>\n             <div>\n                 <center>"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-04-20T03:18:01Z",
    "message": "Merge pull request #2 from CarloLj/login/register\n\nchanges in routing",
    "additions": [
      "@@ -25,7 +25,7 @@\n       work correctly both with client-side routing and a non-root public URL.\n       Learn how to configure a non-root public URL by running `npm run build`.\n     -->\n-    <title>React App</title>\n+    <title>GERIATRIK</title>\n   </head>\n   <body>\n     <noscript>You need to enable JavaScript to run this app.</noscript>",
      "@@ -1,6 +1,6 @@\n {\n-  \"short_name\": \"React App\",\n-  \"name\": \"Create React App Sample\",\n+  \"short_name\": \"GERIATRIK\",\n+  \"name\": \"GERIATRIK\",\n   \"icons\": [\n     {\n       \"src\": \"favicon.ico\",",
      "@@ -11,8 +11,8 @@ function App() {\n         <Router>\n             <Fragment>\n                 <Routes>\n-                    <Route exact path='/' element = {<Home/>}/>\n-                    <Route exact path='/login' element = {<Login/>}/>\n+                    <Route exact path='/' element = {<Login/>}/>\n+                    <Route exact path='/home' element = {<Home/>}/>\n                     <Route exact path='/Register' element = {<Register/>}/>\n                 </Routes>\n             </Fragment>",
      "@@ -16,7 +16,7 @@ const Login = () => {\n \n     const onSubmit = e => {\n         e.preventDefault();\n-        navigate('/');\n+        navigate('/home');\n         /*if(email === '' || password === ''){\n             //missing inputs\n         }else{",
      "@@ -29,7 +29,7 @@ const Register = props => {\n             //passwords do not match\n         }else{\n             //register\n-            navigate('/');\n+            navigate('/home');\n         }\n     }\n     \n@@ -45,7 +45,7 @@ const Register = props => {\n                     <input placeholder='Confirmar Contrase\u00f1a' type='password' name = 'password2' value={password2} onChange = {onChange} required minLength={6}/>\n                     <input type=\"submit\" value = \"Registarse\"/>\n                 </form>\n-                <button className='btn-back' onClick={() => navigate('/login', { replace: true })}> Atr\u00e1s</button>\n+                <button className='btn-back' onClick={() => navigate('/', { replace: true })}> Atr\u00e1s</button>\n \n             </div>\n             <div>"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-04-20T02:57:17Z",
    "message": "changes in routing",
    "additions": [
      "@@ -25,7 +25,7 @@\n       work correctly both with client-side routing and a non-root public URL.\n       Learn how to configure a non-root public URL by running `npm run build`.\n     -->\n-    <title>React App</title>\n+    <title>GERIATRIK</title>\n   </head>\n   <body>\n     <noscript>You need to enable JavaScript to run this app.</noscript>",
      "@@ -1,6 +1,6 @@\n {\n-  \"short_name\": \"React App\",\n-  \"name\": \"Create React App Sample\",\n+  \"short_name\": \"GERIATRIK\",\n+  \"name\": \"GERIATRIK\",\n   \"icons\": [\n     {\n       \"src\": \"favicon.ico\",",
      "@@ -11,8 +11,8 @@ function App() {\n         <Router>\n             <Fragment>\n                 <Routes>\n-                    <Route exact path='/' element = {<Home/>}/>\n-                    <Route exact path='/login' element = {<Login/>}/>\n+                    <Route exact path='/' element = {<Login/>}/>\n+                    <Route exact path='/home' element = {<Home/>}/>\n                     <Route exact path='/Register' element = {<Register/>}/>\n                 </Routes>\n             </Fragment>",
      "@@ -16,7 +16,7 @@ const Login = () => {\n \n     const onSubmit = e => {\n         e.preventDefault();\n-        navigate('/');\n+        navigate('/home');\n         /*if(email === '' || password === ''){\n             //missing inputs\n         }else{",
      "@@ -29,7 +29,7 @@ const Register = props => {\n             //passwords do not match\n         }else{\n             //register\n-            navigate('/');\n+            navigate('/home');\n         }\n     }\n     \n@@ -45,7 +45,7 @@ const Register = props => {\n                     <input placeholder='Confirmar Contrase\u00f1a' type='password' name = 'password2' value={password2} onChange = {onChange} required minLength={6}/>\n                     <input type=\"submit\" value = \"Registarse\"/>\n                 </form>\n-                <button className='btn-back' onClick={() => navigate('/login', { replace: true })}> Atr\u00e1s</button>\n+                <button className='btn-back' onClick={() => navigate('/', { replace: true })}> Atr\u00e1s</button>\n \n             </div>\n             <div>"
    ]
  },
  {
    "author": "Ruy Guzm\u00e1n Camacho",
    "date": "2022-04-20T01:36:33Z",
    "message": "login/register first draft, no auth functionality",
    "additions": [
      "@@ -8,6 +8,7 @@\n     \"@testing-library/user-event\": \"^13.5.0\",\n     \"react\": \"^17.0.2\",\n     \"react-dom\": \"^17.0.2\",\n+    \"react-router-dom\": \"^6.3.0\",\n     \"react-scripts\": \"5.0.0\",\n     \"web-vitals\": \"^2.1.4\"\n   },",
      "@@ -10,6 +10,7 @@\n       content=\"Web site created using create-react-app\"\n     />\n     <link rel=\"apple-touch-icon\" href=\"%PUBLIC_URL%/logo192.png\" />\n+    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>\n     <!--\n       manifest.json provides metadata used when your web app is installed on a\n       user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/",
      "@@ -1,3 +1,7 @@\n+body{\n+  font-family: 'Poppins';\n+}\n+\n .App {\n   text-align: center;\n }\n@@ -28,6 +32,98 @@\n   color: #61dafb;\n }\n \n+.form-group {\n+  margin: 1.2rem 0;\n+}\n+\n+.form-group input {\n+  margin: 0.2rem 0;\n+}\n+\n+input[type='text'],\n+input[type='email'],\n+input[type='password'],\n+input[type='date'],\n+select,\n+textarea {\n+  display: block;\n+  width: 90%;\n+  font-size: 1.2rem;\n+  border: none;\n+  border-radius: 8px;\n+  background-color: #EFF0F7;\n+  padding: 15px;\n+  margin: 15px;\n+  font-size: 18px;\n+  outline: none;\n+}\n+\n+input[type='submit'] {\n+  font: inherit;\n+  padding: 10px;\n+  background-color: #003699;\n+  color: white;\n+  border-radius: 8px;\n+  border: none;\n+  margin: 15px;\n+  font-size: 18px;\n+  cursor: pointer;\n+}\n+\n+input[type='submit']:active,\n+.btn-back:active{\n+  transform: scale(0.85);\n+  box-shadow: 3px 2px 25px 1px rgba(0,0,0,0.25);\n+}\n+\n+.btn-back{\n+  display: inline-block;\n+  font-size: 18px;\n+  font-weight: bold;\n+  color: #333;\n+  padding: 10px;\n+  font-size: 1rem;\n+  border: none;\n+  cursor: pointer;\n+  outline: none;\n+  border-radius: 8px;\n+  margin-left: 15px;\n+}\n+\n+.geriatrik{\n+  font-size: 72px;\n+  font-weight: bold;\n+  margin-left: 15px;\n+}\n+\n+.auth-header{\n+  font-size: 30px;\n+  margin-left: 15px;\n+}\n+\n+.form-container {\n+  max-width: 600px;\n+  margin-left: 25%;\n+  margin-top: 15%;\n+  overflow: hidden;\n+  padding: 0 2rem;\n+  z-index: 1;\n+}\n+\n+.grid-2 {\n+  display: grid;\n+  grid-template-columns: repeat(2, 1fr);\n+  grid-gap: 2rem;\n+}\n+\n+.login-img{\n+  float: right;\n+  overflow: hidden;\n+  max-width: 600px;\n+  margin-top: 10%;\n+  margin-right: 25%;\n+}\n+\n @keyframes App-logo-spin {\n   from {\n     transform: rotate(0deg);\n@@ -36,3 +132,44 @@\n     transform: rotate(360deg);\n   }\n }\n+\n+@media (max-width: 1200px) {\n+  .login-img{\n+    width: 400px;\n+    margin-top: 40% ;\n+  }\n+\n+  input[type='text'],\n+  input[type='email'],\n+  input[type='password'],\n+  input[type='date'],\n+  select,\n+  textarea {\n+    width: 90%;\n+  }\n+\n+  .form-container {\n+    margin-top: 25%;\n+  }\n+}\n+\n+@media (max-width: 1100px) {\n+  .login-img{\n+    display: none;\n+  }\n+\n+  .form-container {\n+    margin-top: 5%;\n+    margin-left: 5%;\n+    margin-right: 5%;\n+\n+  }\n+\n+  .grid-2 {\n+    display: block;\n+  }\n+\n+  .form-container {\n+    margin-right: 8%;\n+  }\n+}",
      "@@ -1,24 +1,39 @@\n import logo from './logo.svg';\n+import { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\n+import React, {Fragment} from 'react';\n import './App.css';\n+import Login from './components/auth/Login';\n+import Register from './components/auth/Register';\n+import Home from './components/pages/Home';\n \n function App() {\n-  return (\n-    <div className=\"App\">\n-      <header className=\"App-header\">\n-        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n-        <p>\n-          Edit <code>src/App.js</code> and save to reload.\n-        </p>\n-        <a\n-          className=\"App-link\"\n-          href=\"https://reactjs.org\"\n-          target=\"_blank\"\n-          rel=\"noopener noreferrer\"\n-        >\n-          Learn React\n-        </a>\n-      </header>\n-    </div>\n+    return (\n+        <Router>\n+            <Fragment>\n+                <Routes>\n+                    <Route exact path='/' element = {<Home/>}/>\n+                    <Route exact path='/login' element = {<Login/>}/>\n+                    <Route exact path='/Register' element = {<Register/>}/>\n+                </Routes>\n+            </Fragment>\n+            {/*<div className=\"App\">\n+            <header className=\"App-header\">\n+                <img src={logo} className=\"App-logo\" alt=\"logo\" />\n+                <p>\n+                Edit <code>src/App.js</code> and save to reload.\n+                </p>\n+                <a\n+                className=\"App-link\"\n+                href=\"https://reactjs.org\"\n+                target=\"_blank\"\n+                rel=\"noopener noreferrer\"\n+                >\n+                Learn React\n+                </a>\n+            </header>\n+            </div>*/}\n+        </Router>\n+        \n   );\n }\n ",
      "@@ -0,0 +1,51 @@\n+import React, {useState, useEffect} from 'react'\n+import { useNavigate  } from \"react-router-dom\"\n+import login from '../layout/images/login.PNG'\n+const Login = () => {\n+\n+    const navigate = useNavigate ();\n+\n+    const [user,setUser] = useState({\n+        email: '',\n+        password: ''\n+    });\n+\n+    const {email,password} = user;\n+\n+    const onChange = e => setUser({...user, [e.target.name]:e.target.value});\n+\n+    const onSubmit = e => {\n+        e.preventDefault();\n+        navigate('/');\n+        /*if(email === '' || password === ''){\n+            //missing inputs\n+        }else{\n+            //login\n+        }*/\n+    }\n+    \n+    return (\n+        <div className='grid-2'>\n+            <div className='form-container'>\n+                <h1 className='geriatrik'>GERIATRIK</h1>\n+                <h2 className='auth-header'>Iniciar Sesi\u00f3n</h2>\n+                <form onSubmit={onSubmit}>\n+                    <input placeholder='Correo Electr\u00f3nico' type='email' name = 'email' value={email} onChange = {onChange} required/>\n+                    <input placeholder='Contrase\u00f1a' type='password' name = 'password' value={password} onChange = {onChange} required/>\n+                    <p style={{margin: '15px', cursor: 'pointer',textDecoration: 'underline'}} onClick = {() => navigate('/register', { replace: true })}>\u00bfNo tienes cuenta? Registrate</p>\n+                    <input type=\"submit\" value = \"Iniciar Sesi\u00f3n\"/>\n+                </form>\n+            </div>\n+            <div>\n+                <center>\n+                    <img className='login-img'\n+                        src={login}\n+                        alt='Geriatra'\n+                    />\n+                </center>\n+            </div>\n+        </div>\n+    )\n+}\n+\n+export default Login\n\\ No newline at end of file",
      "@@ -0,0 +1,63 @@\n+import React, {useState} from 'react'\n+import { useNavigate  } from \"react-router-dom\"\n+import login from '../layout/images/login.PNG'\n+\n+const Register = props => {\n+    \n+    //allow to naviigate through the routes\n+    const navigate = useNavigate ();\n+\n+    //user register fields\n+    const [user,setUser] = useState({\n+        name: '',\n+        email: '',\n+        password: '',\n+        password2: ''\n+    });\n+\n+    const {name,email,password,password2} = user;\n+\n+    //copies user data and changes the target of the onchange\n+    const onChange = e => setUser({...user, [e.target.name]:e.target.value});\n+\n+    const onSubmit = e => {\n+        e.preventDefault();\n+\n+        if(name === '' || email === '' || password === ''){\n+            //missing info\n+        }else if (password !== password2){\n+            //passwords do not match\n+        }else{\n+            //register\n+            navigate('/');\n+        }\n+    }\n+    \n+    return (\n+        <div className='grid-2'>\n+            <div className='form-container'>\n+                <h1 className='geriatrik'>GERIATRIK</h1>\n+                <h2 className='auth-header'>Registrate</h2>\n+                <form onSubmit={onSubmit}>\n+                    <input placeholder='Nombre' type='text' name = 'name' value={name} onChange = {onChange} required/>\n+                    <input placeholder='Correo Electr\u00f3nico' type='email' name = 'email' value={email} onChange = {onChange} required/>\n+                    <input placeholder='Contrase\u00f1a' type='password' name = 'password' value={password} onChange = {onChange} required minLength={6}/>\n+                    <input placeholder='Confirmar Contrase\u00f1a' type='password' name = 'password2' value={password2} onChange = {onChange} required minLength={6}/>\n+                    <input type=\"submit\" value = \"Registarse\"/>\n+                </form>\n+                <button className='btn-back' onClick={() => navigate('/login', { replace: true })}> Atr\u00e1s</button>\n+\n+            </div>\n+            <div>\n+                <center>\n+                    <img className='login-img'\n+                        src={login}\n+                        alt='Geriatra'\n+                    />\n+                </center>\n+            </div>\n+        </div>\n+    )\n+}\n+\n+export default Register;\n\\ No newline at end of file",
      "@@ -0,0 +1,9 @@\n+import React from 'react'\n+\n+const Home = () => {\n+  return (\n+    <div>Home</div>\n+  )\n+}\n+\n+export default Home\n\\ No newline at end of file"
    ]
  }
]